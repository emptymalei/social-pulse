import{s as at,b as Xe,j as ne,f as V,al as Sr,v as Rt,e as be,d as de,r as it,i as se,k as ge,y as Qt,z as Kt,A as Yt,q as fe,l as Zn,n as Jn,H as Gt,a as ir,c as ur,J as Ue,K as Ht,t as Vt,u as Xt,R as pn,C as ar,g as cr}from"./scheduler.eCwAdsMb.js";import{S as ct,i as mt,g as yt,b as M,e as ht,t as T,c as H,a as R,m as Q,d as K}from"./index.e4m0AUlt.js";import{at as wr,M as Ve,av as xr,aw as Tr,ax as Pn,ay as vn,az as $n,j as mr,t as I,n as Bn,o as Ut,aA as Cr,q as he,u as Ge,aB as qt,v as oe,w as yr,N as Lr,O as Mr,x as hr,y as gr,Q as He,z as br,A as dr,B as _r,f as Er,aC as Dr,aD as jr,au as Or}from"./VennDiagram.svelte_svelte_type_style_lang.9MhSAkR2.js";import{w as er}from"./entry.DB1eqCOX.js";import{E as Ir}from"./ECharts.DJ_YMGbA.js";function Pr(r){let t,e,n,l;const o=r[3].default,s=Rt(o,r,r[2],null);return{c(){t=be("div"),e=be("div"),s&&s.c(),this.h()},l(u){t=de(u,"DIV",{class:!0,role:!0});var f=it(t);e=de(f,"DIV",{});var c=it(e);s&&s.l(c),c.forEach(V),f.forEach(V),this.h()},h(){se(t,"class",n="alert "+r[0]+" svelte-1w1ov1c"),se(t,"role","alert")},m(u,f){ne(u,t,f),ge(t,e),s&&s.m(e,null),l=!0},p(u,f){s&&s.p&&(!l||f&4)&&Qt(s,o,u,u[2],l?Yt(o,u[2],f,null):Kt(u[2]),null),(!l||f&1&&n!==(n="alert "+u[0]+" svelte-1w1ov1c"))&&se(t,"class",n)},i(u){l||(T(s,u),l=!0)},o(u){M(s,u),l=!1},d(u){u&&V(t),s&&s.d(u)}}}function Nr(r){let t,e;return t=new wr({props:{inputType:"Alert",height:"42",error:["No Alert content found"]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p:fe,i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function Br(r){let t,e,n,l;const o=[Nr,Pr],s=[];function u(f,c){return f[1].default?1:0}return t=u(r),e=s[t]=o[t](r),{c(){e.c(),n=Xe()},l(f){e.l(f),n=Xe()},m(f,c){s[t].m(f,c),ne(f,n,c),l=!0},p(f,[c]){let m=t;t=u(f),t===m?s[t].p(f,c):(yt(),M(s[m],1,1,()=>{s[m]=null}),ht(),e=s[t],e?e.p(f,c):(e=s[t]=o[t](f),e.c()),T(e,1),e.m(n.parentNode,n))},i(f){l||(T(e),l=!0)},o(f){M(e),l=!1},d(f){f&&V(n),s[t].d(f)}}}const zn={default:"base",danger:"negative",success:"positive"},zr=r=>Object.keys(zn).includes(r),Fr=r=>zr(r)?(console.warn(`[Alert] The status "${r}" is deprecated. Please use "${zn[r]}" instead.`),zn[r]):r;function qr(r,t,e){let{$$slots:n={},$$scope:l}=t;const o=Sr(n);let{status:s="base"}=t;return r.$$set=u=>{"status"in u&&e(0,s=u.status),"$$scope"in u&&e(2,l=u.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&e(0,s=Fr(s))},[s,o,l,n]}class El extends ct{constructor(t){super(),mt(this,t,qr,Br,at,{status:0})}}function tr(r){return e=>e.map(n=>{var l;const o={},s=Object.keys(n);for(const u of s){const f=(l=r[u])!=null?l:u;o[f]=n[u]}return o})}function Gr(r,t){if(r.length===0||t.length===0)return{};const e=Object.keys(r[0]),n=Object.keys(t[0]),l={};for(const o of e)n.includes(o)&&(l[o]=o);return l}function Vr(r,t,e){for(const n in e){const l=e[n];if(r[l]!==t[n])return!1}return!0}function Xr(r,t){return n=>{if(!r.length)return n;const l=Gr(n,r),o=Object.keys(r[0]);return n.flatMap(u=>{const f=r.filter(m=>Vr(u,m,l));if(f.length)return f.map(m=>({...u,...m}));const c=Object.fromEntries(o.filter(m=>u[m]==null).map(m=>[m,void 0]));return{...u,...c}})}}function nr(r){return e=>{const n=e.map(l=>({...l}));for(const l in r){const o=r[l],s=typeof o=="function"?o(n):o,u=s!=null&&s[Symbol.iterator]&&typeof s!="string"?s:e.map(()=>s);let f=-1;for(const c of n)c[l]=u[++f]}return n}}function Ur(r){return e=>{const n=Rr(r),l=[];for(const o in n){const s=n[o];let u;typeof s=="function"?u=s(e):Array.isArray(s)?u=s:u=Array.from(new Set(e.map(f=>f[o]))),l.push(u.map(f=>({[o]:f})))}return Hr(l)}}function Hr(r){function t(n,l,o){if(!o.length&&l!=null){n.push(l);return}const s=o[0],u=o.slice(1);for(const f of s)t(n,{...l,...f},u)}const e=[];return t(e,null,r),e}function Rr(r){if(Array.isArray(r)){const t={};for(const e of r)t[e]=e;return t}else if(typeof r=="object")return r;return{[r]:r}}function Qr(r){return e=>{const n=[];for(const l of e){const o={...l};for(const s in r)o[s]==null&&(o[s]=r[s]);n.push(o)}return n}}function rr(r,t){return n=>{const l=Ur(r)(n),o=Xr(n)(l);return t?Qr(t)(o):o}}function lr(r,t,e){return r==null||t==null?void 0:t===0&&r===0?0:!e&&t===0?void 0:r/t}function or(r,t,e){const n=typeof r=="function"?r:u=>u[r],l=u=>u[t],{predicate:o,allowDivideByZero:s}={};return o==null?(u,f,c)=>{const m=l(u),k=n(u,f,c);return lr(k,m,s)}:(u,f,c)=>{if(!o(u,f,c))return;const m=l(u),k=n(u,f,c);return lr(k,m,s)}}function ut(r,t){const e=new Set(r.map(n=>n[t]));return Array.from(e)}function Kr(r,t){return Ve(r,xr({count:Tr(t)}))[0].count}function Yr(r,t,e){let n;if(typeof e!="object")n=Ve(r,vn(t,nr({xTotal:$n(e)})),Pn({percentOfX:or(e,"xTotal")}),tr({percentOfX:e+"_pct"}));else{n=Ve(r,Pn({valueSum:0}));for(let l=0;l<n.length;l++){n[l].valueSum=0;for(let o=0;o<e.length;o++)n[l].valueSum=n[l].valueSum+n[l][e[o]]}n=Ve(n,vn(t,nr({xTotal:$n("valueSum")})));for(let l=0;l<e.length;l++)n=Ve(n,Pn({percentOfX:or(e[l],"xTotal")}),tr({percentOfX:e[l]+"_pct"}))}return n}function Nn(r,t,e){return[...r].sort((n,l)=>(n[t]<l[t]?-1:1)*(e?1:-1))}function Wr(r,t,e){const n=t+e;return r%n<t?0:1}function Zr(r){let t,e;return t=new hr({props:{error:r[14],title:r[8]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l[0]&16384&&(o.error=n[14]),l[0]&256&&(o.title=n[8]),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function Jr(r){let t,e,n;const l=r[136].default,o=Rt(l,r,r[135],null);return e=new Ir({props:{config:r[20],height:r[15],width:r[13],data:r[0],queryID:r[6],evidenceChartTitle:r[7],showAllXAxisLabels:r[1],swapXY:r[3],echartsOptions:r[9],seriesOptions:r[10],printEchartsConfig:r[2],renderer:r[11],downloadableData:r[4],downloadableImage:r[5],connectGroup:r[12],xAxisLabelOverflow:r[23],seriesColors:r[16]}}),{c(){o&&o.c(),t=ir(),H(e.$$.fragment)},l(s){o&&o.l(s),t=ur(s),R(e.$$.fragment,s)},m(s,u){o&&o.m(s,u),ne(s,t,u),Q(e,s,u),n=!0},p(s,u){o&&o.p&&(!n||u[4]&2048)&&Qt(o,l,s,s[135],n?Yt(l,s[135],u,null):Kt(s[135]),null);const f={};u[0]&1048576&&(f.config=s[20]),u[0]&32768&&(f.height=s[15]),u[0]&8192&&(f.width=s[13]),u[0]&1&&(f.data=s[0]),u[0]&64&&(f.queryID=s[6]),u[0]&128&&(f.evidenceChartTitle=s[7]),u[0]&2&&(f.showAllXAxisLabels=s[1]),u[0]&8&&(f.swapXY=s[3]),u[0]&512&&(f.echartsOptions=s[9]),u[0]&1024&&(f.seriesOptions=s[10]),u[0]&4&&(f.printEchartsConfig=s[2]),u[0]&2048&&(f.renderer=s[11]),u[0]&16&&(f.downloadableData=s[4]),u[0]&32&&(f.downloadableImage=s[5]),u[0]&4096&&(f.connectGroup=s[12]),u[0]&65536&&(f.seriesColors=s[16]),e.$set(f)},i(s){n||(T(o,s),T(e.$$.fragment,s),n=!0)},o(s){M(o,s),M(e.$$.fragment,s),n=!1},d(s){s&&V(t),o&&o.d(s),K(e,s)}}}function pr(r){let t,e,n,l;const o=[Jr,Zr],s=[];function u(f,c){return f[14]?1:0}return t=u(r),e=s[t]=o[t](r),{c(){e.c(),n=Xe()},l(f){e.l(f),n=Xe()},m(f,c){s[t].m(f,c),ne(f,n,c),l=!0},p(f,c){let m=t;t=u(f),t===m?s[t].p(f,c):(yt(),M(s[m],1,1,()=>{s[m]=null}),ht(),e=s[t],e?e.p(f,c):(e=s[t]=o[t](f),e.c()),T(e,1),e.m(n.parentNode,n))},i(f){l||(T(e),l=!0)},o(f){M(e),l=!1},d(f){f&&V(n),s[t].d(f)}}}function vr(r,t,e){let n,l,o,s,u,f=fe,c=()=>(f(),f=Gt(o,i=>e(131,u=i)),o),m,k,P=fe,_=()=>(P(),P=Gt(l,i=>e(133,k=i)),l),g,d=fe,N=()=>(d(),d=Gt(n,i=>e(134,g=i)),n),E;r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>d());let{$$slots:X={},$$scope:C}=t,j=er({}),O=er({});Zn(r,O,i=>e(20,E=i));const{theme:S,resolveColor:B,resolveColorsObject:z,resolveColorPalette:L}=mr();Zn(r,S,i=>e(132,m=i));let{data:a=void 0}=t,{queryID:A=void 0}=t,{x:b=void 0}=t,{y=void 0}=t,{y2:w=void 0}=t,{series:F=void 0}=t,{size:U=void 0}=t,{tooltipTitle:ie=void 0}=t,{showAllXAxisLabels:ue=void 0}=t,{printEchartsConfig:gt=!1}=t,Wt=!!y,Zt=!!b,{swapXY:D=!1}=t,{title:bt=void 0}=t,{subtitle:dt=void 0}=t,{chartType:_t="Chart"}=t,{bubble:Jt=!1}=t,{hist:pt=!1}=t,{boxplot:vt=!1}=t,ae,{xType:q=void 0}=t,{xAxisTitle:$="false"}=t,{xBaseline:_e=!0}=t,{xTickMarks:Ae=!1}=t,{xGridlines:ke=!1}=t,{xAxisLabels:Se=!0}=t,{sort:we=!0}=t,{xFmt:At=void 0}=t,{xMin:kt=void 0}=t,{xMax:St=void 0}=t,{yLog:re=!1}=t,{yType:wt=re===!0?"log":"value"}=t,{yLogBase:xt=10}=t,{yAxisTitle:W="false"}=t,{yBaseline:xe=!1}=t,{yTickMarks:Te=!1}=t,{yGridlines:Ce=!0}=t,{yAxisLabels:Le=!0}=t,{yMin:Re=void 0}=t,{yMax:Tt=void 0}=t,{yScale:Me=!1}=t,{yFmt:Qe=void 0}=t,{yAxisColor:$t="true"}=t,{y2AxisTitle:le="false"}=t,{y2Baseline:Ke=!1}=t,{y2TickMarks:Ye=!1}=t,{y2Gridlines:We=!0}=t,{y2AxisLabels:Ze=!0}=t,{y2Min:Ct=void 0}=t,{y2Max:en=void 0}=t,{y2Scale:Je=!1}=t,{y2Fmt:pe=void 0}=t,{y2AxisColor:tn="true"}=t,{sizeFmt:Lt=void 0}=t,{colorPalette:nn="default"}=t,{legend:Z=void 0}=t,{echartsOptions:Fn=void 0}=t,{seriesOptions:qn=void 0}=t,{seriesColors:rn=void 0}=t,{stackType:ln=void 0}=t,{stacked100:ve=!1}=t,{chartAreaHeight:J}=t,{renderer:Gn=void 0}=t,{downloadableData:Mt=!0}=t,{downloadableImage:Et=!0}=t,{connectGroup:Vn=void 0}=t,{leftPadding:on=void 0}=t,{rightPadding:sn=void 0}=t,{xLabelWrap:$e=!1}=t;const kr=$e?"break":"truncate";let x,Dt,jt=[],Ee=[],fn,et,p,un,v,G,ee,Ot,an,tt,It,cn,Pt,De,mn,yn,nt,je,hn,gn,bn,dn,_n,An,kn,Sn,wn,xn,Tn,Oe,rt,lt,Nt,Bt,Cn,Ln,Ie,Mn,En,zt,Xn,Dn,ce=[],Pe=!0,te=[],ot=[],Y,st,jn,me;return r.$$set=i=>{"data"in i&&e(0,a=i.data),"queryID"in i&&e(6,A=i.queryID),"x"in i&&e(24,b=i.x),"y"in i&&e(25,y=i.y),"y2"in i&&e(49,w=i.y2),"series"in i&&e(50,F=i.series),"size"in i&&e(51,U=i.size),"tooltipTitle"in i&&e(52,ie=i.tooltipTitle),"showAllXAxisLabels"in i&&e(1,ue=i.showAllXAxisLabels),"printEchartsConfig"in i&&e(2,gt=i.printEchartsConfig),"swapXY"in i&&e(3,D=i.swapXY),"title"in i&&e(7,bt=i.title),"subtitle"in i&&e(53,dt=i.subtitle),"chartType"in i&&e(8,_t=i.chartType),"bubble"in i&&e(54,Jt=i.bubble),"hist"in i&&e(55,pt=i.hist),"boxplot"in i&&e(56,vt=i.boxplot),"xType"in i&&e(26,q=i.xType),"xAxisTitle"in i&&e(27,$=i.xAxisTitle),"xBaseline"in i&&e(28,_e=i.xBaseline),"xTickMarks"in i&&e(29,Ae=i.xTickMarks),"xGridlines"in i&&e(30,ke=i.xGridlines),"xAxisLabels"in i&&e(31,Se=i.xAxisLabels),"sort"in i&&e(32,we=i.sort),"xFmt"in i&&e(57,At=i.xFmt),"xMin"in i&&e(58,kt=i.xMin),"xMax"in i&&e(59,St=i.xMax),"yLog"in i&&e(33,re=i.yLog),"yType"in i&&e(60,wt=i.yType),"yLogBase"in i&&e(61,xt=i.yLogBase),"yAxisTitle"in i&&e(34,W=i.yAxisTitle),"yBaseline"in i&&e(35,xe=i.yBaseline),"yTickMarks"in i&&e(36,Te=i.yTickMarks),"yGridlines"in i&&e(37,Ce=i.yGridlines),"yAxisLabels"in i&&e(38,Le=i.yAxisLabels),"yMin"in i&&e(62,Re=i.yMin),"yMax"in i&&e(63,Tt=i.yMax),"yScale"in i&&e(39,Me=i.yScale),"yFmt"in i&&e(64,Qe=i.yFmt),"yAxisColor"in i&&e(65,$t=i.yAxisColor),"y2AxisTitle"in i&&e(40,le=i.y2AxisTitle),"y2Baseline"in i&&e(41,Ke=i.y2Baseline),"y2TickMarks"in i&&e(42,Ye=i.y2TickMarks),"y2Gridlines"in i&&e(43,We=i.y2Gridlines),"y2AxisLabels"in i&&e(44,Ze=i.y2AxisLabels),"y2Min"in i&&e(66,Ct=i.y2Min),"y2Max"in i&&e(67,en=i.y2Max),"y2Scale"in i&&e(45,Je=i.y2Scale),"y2Fmt"in i&&e(68,pe=i.y2Fmt),"y2AxisColor"in i&&e(69,tn=i.y2AxisColor),"sizeFmt"in i&&e(70,Lt=i.sizeFmt),"colorPalette"in i&&e(71,nn=i.colorPalette),"legend"in i&&e(46,Z=i.legend),"echartsOptions"in i&&e(9,Fn=i.echartsOptions),"seriesOptions"in i&&e(10,qn=i.seriesOptions),"seriesColors"in i&&e(72,rn=i.seriesColors),"stackType"in i&&e(73,ln=i.stackType),"stacked100"in i&&e(74,ve=i.stacked100),"chartAreaHeight"in i&&e(47,J=i.chartAreaHeight),"renderer"in i&&e(11,Gn=i.renderer),"downloadableData"in i&&e(4,Mt=i.downloadableData),"downloadableImage"in i&&e(5,Et=i.downloadableImage),"connectGroup"in i&&e(12,Vn=i.connectGroup),"leftPadding"in i&&e(75,on=i.leftPadding),"rightPadding"in i&&e(76,sn=i.rightPadding),"xLabelWrap"in i&&e(48,$e=i.xLabelWrap),"$$scope"in i&&e(135,C=i.$$scope)},r.$$.update=()=>{var i,Un,Hn,Rn,Qn,Kn;if(r.$$.dirty[0]&4&&e(2,gt=I(gt)),r.$$.dirty[0]&8&&e(3,D=I(D)),r.$$.dirty[0]&268435456&&e(28,_e=I(_e)),r.$$.dirty[0]&536870912&&e(29,Ae=I(Ae)),r.$$.dirty[0]&1073741824&&e(30,ke=I(ke)),r.$$.dirty[1]&1&&e(31,Se=I(Se)),r.$$.dirty[1]&2&&e(32,we=I(we)),r.$$.dirty[1]&4&&e(33,re=I(re)),r.$$.dirty[1]&16&&e(35,xe=I(xe)),r.$$.dirty[1]&32&&e(36,Te=I(Te)),r.$$.dirty[1]&64&&e(37,Ce=I(Ce)),r.$$.dirty[1]&128&&e(38,Le=I(Le)),r.$$.dirty[1]&256&&e(39,Me=I(Me)),r.$$.dirty[2]&8&&N(e(19,n=B($t))),r.$$.dirty[1]&1024&&e(41,Ke=I(Ke)),r.$$.dirty[1]&2048&&e(42,Ye=I(Ye)),r.$$.dirty[1]&4096&&e(43,We=I(We)),r.$$.dirty[1]&8192&&e(44,Ze=I(Ze)),r.$$.dirty[1]&16384&&e(45,Je=I(Je)),r.$$.dirty[2]&128&&_(e(18,l=B(tn))),r.$$.dirty[2]&512&&c(e(17,o=L(nn))),r.$$.dirty[2]&1024&&e(16,s=z(rn)),r.$$.dirty[0]&16&&e(4,Mt=I(Mt)),r.$$.dirty[0]&32&&e(5,Et=I(Et)),r.$$.dirty[1]&131072&&e(48,$e=I($e)),r.$$.dirty[0]&2130731403|r.$$.dirty[1]&2147352575|r.$$.dirty[2]&2147481975|r.$$.dirty[3]&2147483647|r.$$.dirty[4]&2047)try{if(e(14,st=void 0),e(124,ce=[]),e(83,Ee=[]),e(126,te=[]),e(127,ot=[]),e(85,et=[]),e(77,Wt=!!y),e(78,Zt=!!b),Bn(a),e(80,x=Ut(a)),e(81,Dt=Object.keys(x)),Zt||e(24,b=Dt[0]),!Wt){e(82,jt=Dt.filter(function(h){return![b,F,U].includes(h)}));for(let h=0;h<jt.length;h++)e(85,et=jt[h]),e(84,fn=x[et].type),fn==="number"&&Ee.push(et);e(25,y=Ee.length>1?Ee:Ee[0])}Jt?e(79,ae={x:b,y,size:U}):pt?e(79,ae={x:b}):vt?e(79,ae={}):e(79,ae={x:b,y});for(let h in ae)ae[h]==null&&ce.push(h);if(ce.length===1)throw Error(new Intl.ListFormat().format(ce)+" is required");if(ce.length>1)throw Error(new Intl.ListFormat().format(ce)+" are required");if(ve===!0&&y.includes("_pct")&&Pe===!1)if(typeof y=="object"){for(let h=0;h<y.length;h++)e(25,y[h]=y[h].replace("_pct",""),y);e(125,Pe=!1)}else e(25,y=y.replace("_pct","")),e(125,Pe=!1);if(b&&te.push(b),y)if(typeof y=="object")for(e(128,Y=0);Y<y.length;e(128,Y++,Y))te.push(y[Y]);else te.push(y);if(w)if(typeof w=="object")for(e(128,Y=0);Y<w.length;e(128,Y++,Y))te.push(w[Y]);else te.push(w);if(U&&te.push(U),F&&ot.push(F),ie&&ot.push(ie),Bn(a,te,ot),ve===!0){if(e(0,a=Yr(a,b,y)),typeof y=="object"){for(let h=0;h<y.length;h++)e(25,y[h]=y[h]+"_pct",y);e(125,Pe=!1)}else e(25,y=y+"_pct"),e(125,Pe=!1);e(80,x=Ut(a))}switch(e(86,p=x[b].type),p){case"number":e(86,p="value");break;case"string":e(86,p="category");break;case"date":e(86,p="time");break;default:break}if(e(26,q=q==="category"?"category":p),ue?e(1,ue=ue==="true"||ue===!0):e(1,ue=q==="category"),D&&q!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(D&&w)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(D&&e(26,q="category"),e(87,un=p==="value"&&q==="category"),e(0,a=we?p==="category"?Nn(a,y,!1):Nn(a,b,!0):a),p==="time"&&e(0,a=Nn(a,b,!0)),e(129,jn=Ut(a,"array")),e(130,me=jn.filter(h=>h.type==="date")),e(130,me=me.map(h=>h.id)),me.length>0)for(let h=0;h<me.length;h++)e(0,a=Cr(a,me[h]));At?e(88,v=he(At,(i=x[b].format)==null?void 0:i.valueType)):e(88,v=x[b].format),y?Qe?typeof y=="object"?e(89,G=he(Qe,(Un=x[y[0]].format)==null?void 0:Un.valueType)):e(89,G=he(Qe,(Hn=x[y].format)==null?void 0:Hn.valueType)):typeof y=="object"?e(89,G=x[y[0]].format):e(89,G=x[y].format):e(89,G="str"),w&&(pe?typeof w=="object"?e(90,ee=he(pe,(Rn=x[w[0]].format)==null?void 0:Rn.valueType)):e(90,ee=he(pe,(Qn=x[w].format)==null?void 0:Qn.valueType)):typeof w=="object"?e(90,ee=x[w[0]].format):e(90,ee=x[w].format)),U&&(Lt?e(91,Ot=he(Lt,(Kn=x[U].format)==null?void 0:Kn.valueType)):e(91,Ot=x[U].format)),e(92,an=x[b].columnUnitSummary),y&&(typeof y=="object"?e(93,tt=x[y[0]].columnUnitSummary):e(93,tt=x[y].columnUnitSummary)),w&&(typeof w=="object"?e(94,It=x[w[0]].columnUnitSummary):e(94,It=x[w].columnUnitSummary)),e(27,$=$==="true"?Ge(b,v):$==="false"?"":$),e(34,W=W==="true"?typeof y=="object"?"":Ge(y,G):W==="false"?"":W),e(40,le=le==="true"?typeof w=="object"?"":Ge(w,ee):le==="false"?"":le);let Ne=typeof y=="object"?y.length:1,Yn=F?Kr(a,F):1,ft=Ne*Yn,On=typeof w=="object"?w.length:w?1:0,In=ft+On;if(Z!==void 0&&e(46,Z=Z==="true"||Z===!0),e(46,Z=Z??In>1),ve===!0&&re===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if(ln==="stacked"&&In>1&&re===!0)throw Error("Log axis cannot be used in a stacked chart");let Be;if(typeof y=="object"){Be=x[y[0]].columnUnitSummary.min;for(let h=0;h<y.length;h++)x[y[h]].columnUnitSummary.min<Be&&(Be=x[y[h]].columnUnitSummary.min)}else y&&(Be=x[y].columnUnitSummary.min);if(re===!0&&Be<=0&&Be!==null)throw Error("Log axis cannot display values less than or equal to zero");j.update(h=>({...h,data:a,x:b,y,y2:w,series:F,swapXY:D,sort:we,xType:q,xFormat:v,yFormat:G,y2Format:ee,sizeFormat:Ot,xMismatch:un,size:U,yMin:Re,y2Min:Ct,columnSummary:x,xAxisTitle:$,yAxisTitle:W,y2AxisTitle:le,tooltipTitle:ie,chartAreaHeight:J,chartType:_t,yCount:Ne,y2Count:On})),e(95,cn=ut(a,b));let Wn;if(D?e(96,Pt={type:wt,logBase:xt,position:"top",axisLabel:{show:Le,hideOverlap:!0,showMaxLabel:!0,formatter(h){return qt(h,G,tt)},margin:4},min:Re,max:Tt,scale:Me,splitLine:{show:Ce},axisLine:{show:xe,onZero:!1},axisTick:{show:Te},boundaryGap:!1,z:2}):e(96,Pt={type:q,min:kt,max:St,tooltip:{show:!0,position:"inside",formatter(h){if(h.isTruncated())return h.name}},splitLine:{show:ke},axisLine:{show:_e},axisTick:{show:Ae},axisLabel:{show:Se,hideOverlap:!0,showMaxLabel:q==="category"||q==="value",formatter:q==="time"||q==="category"?!1:function(h){return qt(h,v,an)},margin:6},scale:!0,z:2}),D?e(97,De={type:q,inverse:"true",splitLine:{show:ke},axisLine:{show:_e},axisTick:{show:Ae},axisLabel:{show:Se,hideOverlap:!0},scale:!0,min:kt,max:St,z:2}):(e(97,De={type:wt,logBase:xt,splitLine:{show:Ce},axisLine:{show:xe,onZero:!1},axisTick:{show:Te},axisLabel:{show:Le,hideOverlap:!0,margin:4,formatter(h){return qt(h,G,tt)},color:w?g==="true"?u[0]:g!=="false"?g:void 0:void 0},name:W,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:w?g==="true"?u[0]:g!=="false"?g:void 0:void 0},nameGap:6,min:Re,max:Tt,scale:Me,boundaryGap:["0%","1%"],z:2}),Wn={type:"value",show:!1,alignTicks:!0,splitLine:{show:We},axisLine:{show:Ke,onZero:!1},axisTick:{show:Ye},axisLabel:{show:Ze,hideOverlap:!0,margin:4,formatter(h){return qt(h,ee,It)},color:k==="true"?u[ft]:k!=="false"?k:void 0},name:le,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:k==="true"?u[ft]:k!=="false"?k:void 0},nameGap:6,min:Ct,max:en,scale:Je,boundaryGap:["0%","1%"],z:2},e(97,De=[De,Wn])),J){if(e(47,J=Number(J)),isNaN(J))throw Error("chartAreaHeight must be a number");if(J<=0)throw Error("chartAreaHeight must be a positive number")}else e(47,J=180);e(100,nt=!!bt),e(101,je=!!dt),e(102,hn=Z*(F!==null||typeof y=="object"&&y.length>1)),e(103,gn=W!==""&&D),e(104,bn=$!==""&&!D),e(105,dn=15),e(106,_n=13),e(107,An=6*je),e(108,kn=nt*dn+je*_n+An*Math.max(nt,je)),e(109,Sn=10),e(110,wn=10),e(111,xn=14),e(112,Tn=14),e(113,Oe=15),e(113,Oe=Oe*hn),e(114,rt=7),e(114,rt=rt*Math.max(nt,je)),e(115,lt=kn+rt),e(116,Nt=lt+Oe+Tn*gn+Sn),e(117,Bt=bn*xn+wn),e(121,Mn=8),e(123,zt=1),D&&(e(122,En=cn.length),e(123,zt=Math.max(1,En/Mn))),e(118,Cn=J*zt+Nt+Bt),e(119,Ln=lt+Oe+7),e(15,Xn=Cn+"px"),e(13,Dn="100%"),e(120,Ie=D?W:$),Ie!==""&&e(120,Ie=Ie+" â†’"),e(98,mn={id:"horiz-axis-title",type:"text",style:{text:Ie,textAlign:"right",fill:m.colors["base-content-muted"]},cursor:"auto",right:D?"2%":"3%",top:D?Ln:null,bottom:D?null:"2%"}),e(99,yn={title:{text:bt,subtext:dt,subtextStyle:{width:Dn}},tooltip:{trigger:"axis",show:!0,formatter(h){let ze,Fe,qe,Ft;if(In>1){Fe=h[0].value[D?1:0],ze=`<span id="tooltip" style='font-weight: 600;'>${oe(Fe,v)}</span>`;for(let ye=h.length-1;ye>=0;ye--)h[ye].seriesName!=="stackTotal"&&(qe=h[ye].value[D?0:1],ze=ze+`<br> <span style='font-size: 11px;'>${h[ye].marker} ${h[ye].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${oe(qe,Wr(h[ye].componentIndex,Ne,On)===0?G:ee)}</span>`)}else q==="value"?(Fe=h[0].value[D?1:0],qe=h[0].value[D?0:1],Ft=h[0].seriesName,ze=`<span id="tooltip" style='font-weight: 600;'>${Ge(b,v)}: </span><span style='float:right; margin-left: 10px;'>${oe(Fe,v)}</span><br/><span style='font-weight: 600;'>${Ge(Ft,G)}: </span><span style='float:right; margin-left: 10px;'>${oe(qe,G)}</span>`):(Fe=h[0].value[D?1:0],qe=h[0].value[D?0:1],Ft=h[0].seriesName,ze=`<span id="tooltip" style='font-weight: 600;'>${oe(Fe,v)}</span><br/><span>${Ge(Ft,G)}: </span><span style='float:right; margin-left: 10px;'>${oe(qe,G)}</span>`);return ze},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:Z,type:"scroll",top:lt,padding:[0,0,0,0],data:[]},grid:{left:on??(D?"1%":"0.8%"),right:sn??(D?"4%":"3%"),bottom:Bt,top:Nt,containLabel:!0},xAxis:Pt,yAxis:De,series:[],animation:!0,graphic:mn,color:u}),O.update(()=>yn)}catch(Ne){if(e(14,st=Ne.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${_t}: ${Ne.message}`),yr)throw st;j.update(ft=>({...ft,error:st}))}r.$$.dirty[0]&1},Jn(Lr,j),Jn(Mr,O),[a,ue,gt,D,Mt,Et,A,bt,_t,Fn,qn,Gn,Vn,Dn,st,Xn,s,o,l,n,E,O,S,kr,b,y,q,$,_e,Ae,ke,Se,we,re,W,xe,Te,Ce,Le,Me,le,Ke,Ye,We,Ze,Je,Z,J,$e,w,F,U,ie,dt,Jt,pt,vt,At,kt,St,wt,xt,Re,Tt,Qe,$t,Ct,en,pe,tn,Lt,nn,rn,ln,ve,on,sn,Wt,Zt,ae,x,Dt,jt,Ee,fn,et,p,un,v,G,ee,Ot,an,tt,It,cn,Pt,De,mn,yn,nt,je,hn,gn,bn,dn,_n,An,kn,Sn,wn,xn,Tn,Oe,rt,lt,Nt,Bt,Cn,Ln,Ie,Mn,En,zt,ce,Pe,te,ot,Y,jn,me,u,m,k,g,C,X]}class $r extends ct{constructor(t){super(),mt(this,t,vr,pr,at,{data:0,queryID:6,x:24,y:25,y2:49,series:50,size:51,tooltipTitle:52,showAllXAxisLabels:1,printEchartsConfig:2,swapXY:3,title:7,subtitle:53,chartType:8,bubble:54,hist:55,boxplot:56,xType:26,xAxisTitle:27,xBaseline:28,xTickMarks:29,xGridlines:30,xAxisLabels:31,sort:32,xFmt:57,xMin:58,xMax:59,yLog:33,yType:60,yLogBase:61,yAxisTitle:34,yBaseline:35,yTickMarks:36,yGridlines:37,yAxisLabels:38,yMin:62,yMax:63,yScale:39,yFmt:64,yAxisColor:65,y2AxisTitle:40,y2Baseline:41,y2TickMarks:42,y2Gridlines:43,y2AxisLabels:44,y2Min:66,y2Max:67,y2Scale:45,y2Fmt:68,y2AxisColor:69,sizeFmt:70,colorPalette:71,legend:46,echartsOptions:9,seriesOptions:10,seriesColors:72,stackType:73,stacked100:74,chartAreaHeight:47,renderer:11,downloadableData:4,downloadableImage:5,connectGroup:12,leftPadding:75,rightPadding:76,xLabelWrap:48},null,[-1,-1,-1,-1,-1])}}function el(r){let t;const e=r[7].default,n=Rt(e,r,r[8],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),t=!0},p(l,o){n&&n.p&&(!t||o&256)&&Qt(n,e,l,l[8],t?Yt(e,l[8],o,null):Kt(l[8]),null)},i(l){t||(T(n,l),t=!0)},o(l){M(n,l),t=!1},d(l){n&&n.d(l)}}}function tl(r){let t,e;const n=[r[5],{data:He.isQuery(r[11])?Array.from(r[11]):r[11]},{queryID:r[6]}];let l={$$slots:{default:[el]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)l=Ue(l,n[o]);return t=new $r({props:l}),{c(){H(t.$$.fragment)},l(o){R(t.$$.fragment,o)},m(o,s){Q(t,o,s),e=!0},p(o,s){const u=s&2144?br(n,[s&32&&dr(o[5]),s&2048&&{data:He.isQuery(o[11])?Array.from(o[11]):o[11]},s&64&&{queryID:o[6]}]):{};s&256&&(u.$$scope={dirty:s,ctx:o}),t.$set(u)},i(o){e||(T(t.$$.fragment,o),e=!0)},o(o){M(t.$$.fragment,o),e=!1},d(o){K(t,o)}}}function nl(r){let t,e;return t=new _r({props:{slot:"empty",emptyMessage:r[2],emptySet:r[1],chartType:r[5].chartType,isInitial:r[4]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l&4&&(o.emptyMessage=n[2]),l&2&&(o.emptySet=n[1]),l&32&&(o.chartType=n[5].chartType),l&16&&(o.isInitial=n[4]),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function rl(r){let t,e;return t=new hr({props:{slot:"error",title:r[5].chartType,error:r[11].error.message}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l&32&&(o.title=n[5].chartType),l&2048&&(o.error=n[11].error.message),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function ll(r){let t,e;return t=new gr({props:{data:r[0],height:r[3],$$slots:{error:[rl,({loaded:n})=>({11:n}),({loaded:n})=>n?2048:0],empty:[nl],default:[tl,({loaded:n})=>({11:n}),({loaded:n})=>n?2048:0]},$$scope:{ctx:r}}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,[l]){const o={};l&1&&(o.data=n[0]),l&8&&(o.height=n[3]),l&2358&&(o.$$scope={dirty:l,ctx:n}),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function ol(r,t,e){let n,{$$slots:l={},$$scope:o}=t,{data:s}=t;const u=He.isQuery(s)?s.hash:void 0;let f=(s==null?void 0:s.hash)===u,{emptySet:c=void 0}=t,{emptyMessage:m=void 0}=t,{height:k=200}=t,P=s==null?void 0:s.id;return r.$$set=_=>{e(10,t=Ue(Ue({},t),Ht(_))),"data"in _&&e(0,s=_.data),"emptySet"in _&&e(1,c=_.emptySet),"emptyMessage"in _&&e(2,m=_.emptyMessage),"height"in _&&e(3,k=_.height),"$$scope"in _&&e(8,o=_.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&e(4,f=(s==null?void 0:s.hash)===u),e(5,n={...Object.fromEntries(Object.entries(t).filter(([,_])=>_!==void 0))})},t=Ht(t),[s,c,m,k,f,n,P,l,o]}class Dl extends ct{constructor(t){super(),mt(this,t,ol,ll,at,{data:0,emptySet:1,emptyMessage:2,height:3})}}function jl(r,t,e,n,l,o,s,u,f,c,m=void 0,k=void 0,P=void 0,_=void 0){function g(a,A,b,y){let w={name:A,data:a,yAxisIndex:b};return w={...y,...w},w}let d,N,E,X=[],C,j,O,S,B;function z(a,A){const b=[];function y(F){return typeof F>"u"}function w(F,U){y(F)||(Array.isArray(F)?F.forEach(ie=>b.push([ie,U])):b.push([F,U]))}return w(a,0),w(A,1),b}let L=z(e,P);if(n!=null&&L.length===1)for(S=ut(r,n),d=0;d<S.length;d++){if(j=r.filter(a=>a[n]===S[d]),l?C=j.map(a=>[a[L[0][0]],u?a[t].toString():a[t]]):C=j.map(a=>[u?a[t].toString():a[t],a[L[0][0]]]),m){let a=j.map(A=>A[m]);C.forEach((A,b)=>A.push(a[b]))}if(k){let a=j.map(A=>A[k]);C.forEach((A,b)=>A.push(a[b]))}O=S[d]??"null",B=L[0][1],E=g(C,O,B,o),X.push(E)}if(n!=null&&L.length>1)for(S=ut(r,n),d=0;d<S.length;d++)for(j=r.filter(a=>a[n]===S[d]),N=0;N<L.length;N++){if(l?C=j.map(a=>[a[L[N][0]],u?a[t].toString():a[t]]):C=j.map(a=>[u?a[t].toString():a[t],a[L[N][0]]]),m){let a=j.map(A=>A[m]);C.forEach((A,b)=>A.push(a[b]))}if(k){let a=j.map(A=>A[k]);C.forEach((A,b)=>A.push(a[b]))}O=(S[d]??"null")+" - "+f[L[N][0]].title,B=L[N][1],E=g(C,O,B,o),X.push(E)}if(n==null&&L.length>1)for(d=0;d<L.length;d++){if(l?C=r.map(a=>[a[L[d][0]],u?a[t].toString():a[t]]):C=r.map(a=>[u?a[t].toString():a[t],a[L[d][0]]]),m){let a=r.map(A=>A[m]);C.forEach((A,b)=>A.push(a[b]))}if(k){let a=r.map(A=>A[k]);C.forEach((A,b)=>A.push(a[b]))}O=f[L[d][0]].title,B=L[d][1],E=g(C,O,B,o),X.push(E)}if(n==null&&L.length===1){if(l?C=r.map(a=>[a[L[0][0]],u?a[t].toString():a[t]]):C=r.map(a=>[u?a[t].toString():a[t],a[L[0][0]]]),m){let a=r.map(A=>A[m]);C.forEach((A,b)=>A.push(a[b]))}if(k){let a=r.map(A=>A[k]);C.forEach((A,b)=>A.push(a[b]))}O=f[L[0][0]].title,B=L[0][1],E=g(C,O,B,o),X.push(E)}return c&&X.sort((a,A)=>c.indexOf(a.name)-c.indexOf(A.name)),_&&X.forEach(a=>{a.name=Er(a.name,_)}),X}function sl(r){let t=[];for(let e=1;e<r.length;e++)t.push(r[e]-r[e-1]);return t}function Ar(r,t){return(typeof r!="number"||isNaN(r))&&(r=0),(typeof t!="number"||isNaN(t))&&(t=0),r=Math.abs(r),t=Math.abs(t),t<=.01?r:Ar(t,r%t)}function fl(r,t){if(!Array.isArray(r))throw new TypeError("Cannot calculate extent of non-array value.");let e,n;for(const l of r)typeof l=="number"&&(e===void 0?l>=l&&(e=n=l):(e>l&&(e=l),n<l&&(n=l)));return[e,n]}function il(r,t){let[e,n]=fl(r);const l=[];let o=e;for(;o<=n;)l.push(Math.round((o+Number.EPSILON)*1e8)/1e8),o+=t;return l}function ul(r){if(r.length<=1)return;r.sort(function(e,n){return e-n}),r=r.map(function(e){return e*1e8}),r=sl(r);let t=r.reduce((e,n)=>Ar(e,n))/1e8;return t=Math.round((t+Number.EPSILON)*1e8)/1e8,t}function Ol(r,t,e,n,l=!1,o=!1){var _;let s=!1;const u=r.map(g=>Object.assign({},g,{[t]:g[t]instanceof Date?(s=!0,g[t].toISOString()):g[t]})).filter(g=>g[t]!==void 0&&g[t]!==null),f=Array.from(u).reduce((g,d)=>(d[t]instanceof Date&&(d[t]=d[t].toISOString(),s=!0),n?(g[d[n]??"null"]||(g[d[n]??"null"]=[]),g[d[n]??"null"].push(d)):(g.default||(g.default=[]),g.default.push(d)),g),{}),c={};let m;const k=((_=u.find(g=>g&&g[t]!==null&&g[t]!==void 0))==null?void 0:_[t])??null;switch(typeof k){case"object":throw k===null?new Error(`Column '${t}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(m=ut(u,t),o){const g=ul(m);c[t]=il(m,g)}break;case"string":m=ut(u,t),c[t]=m;break}const P=[];for(const g of Object.values(f)){const d=n?{[n]:null}:{};if(l)if(e instanceof Array)for(let E=0;E<e.length;E++)d[e[E]]=0;else d[e]=0;else if(e instanceof Array)for(let E=0;E<e.length;E++)d[e[E]]=null;else d[e]=null;n&&(c[n]=n);const N=[];Object.keys(c).length===0?N.push(rr([t],d)):N.push(rr(c,d)),P.push(Ve(g,...N))}return s?P.flat().map(g=>({...g,[t]:new Date(g[t])})):P.flat()}function al(r){let t,e;return t=new jr({props:{error:r[3]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l&8&&(o.error=n[3]),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function cl(r){let t,e=oe(r[2],r[4])+"",n,l,o,s=r[1]&&sr(r);return{c(){t=be("span"),n=Vt(e),l=ir(),s&&s.c(),this.h()},l(u){t=de(u,"SPAN",{style:!0});var f=it(t);n=Xt(f,e),l=ur(f),s&&s.l(f),f.forEach(V),this.h()},h(){pn(t,"color",r[5])},m(u,f){ne(u,t,f),ge(t,n),ge(t,l),s&&s.m(t,null),o=!0},p(u,f){(!o||f&20)&&e!==(e=oe(u[2],u[4])+"")&&ar(n,e),u[1]?s?(s.p(u,f),f&2&&T(s,1)):(s=sr(u),s.c(),T(s,1),s.m(t,null)):s&&(yt(),M(s,1,1,()=>{s=null}),ht()),(!o||f&32)&&pn(t,"color",u[5])},i(u){o||(T(s),o=!0)},o(u){M(s),o=!1},d(u){u&&V(t),s&&s.d()}}}function ml(r){let t,e,n,l,o,s="Placeholder: no data currently referenced.";return{c(){t=be("span"),e=Vt("["),n=Vt(r[0]),l=Vt("]"),o=be("span"),o.textContent=s,this.h()},l(u){t=de(u,"SPAN",{class:!0});var f=it(t);e=Xt(f,"["),n=Xt(f,r[0]),l=Xt(f,"]"),o=de(f,"SPAN",{class:!0,"data-svelte-h":!0}),cr(o)!=="svelte-ddarzq"&&(o.textContent=s),f.forEach(V),this.h()},h(){se(o,"class","error-msg svelte-1qvl5jp"),se(t,"class","placeholder svelte-1qvl5jp")},m(u,f){ne(u,t,f),ge(t,e),ge(t,n),ge(t,l),ge(t,o)},p(u,f){f&1&&ar(n,u[0])},i:fe,o:fe,d(u){u&&V(t)}}}function sr(r){let t,e;return t=new Or({props:{description:r[1]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l&2&&(o.description=n[1]),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function yl(r){let t,e,n,l;const o=[ml,cl,al],s=[];function u(f,c){return f[0]?0:f[3]?2:1}return t=u(r),e=s[t]=o[t](r),{c(){e.c(),n=Xe()},l(f){e.l(f),n=Xe()},m(f,c){s[t].m(f,c),ne(f,n,c),l=!0},p(f,[c]){let m=t;t=u(f),t===m?s[t].p(f,c):(yt(),M(s[m],1,1,()=>{s[m]=null}),ht(),e=s[t],e?e.p(f,c):(e=s[t]=o[t](f),e.c()),T(e,1),e.m(n.parentNode,n))},i(f){l||(T(e),l=!0)},o(f){M(e),l=!1},d(f){f&&V(n),s[t].d(f)}}}function hl(r,t,e){let n,l,o=fe,s=()=>(o(),o=Gt(n,S=>e(15,l=S)),n);r.$$.on_destroy.push(()=>o());const{resolveColor:u}=mr();let{data:f=null}=t,{row:c=0}=t,{column:m=null}=t,{value:k=null}=t,{placeholder:P=null}=t,{description:_=void 0}=t,{fmt:g=void 0}=t,d,N,E,{color:X=void 0}=t,C="",{redNegatives:j=!1}=t,O;return r.$$set=S=>{"data"in S&&e(7,f=S.data),"row"in S&&e(10,c=S.row),"column"in S&&e(8,m=S.column),"value"in S&&e(11,k=S.value),"placeholder"in S&&e(0,P=S.placeholder),"description"in S&&e(1,_=S.description),"fmt"in S&&e(12,g=S.fmt),"color"in S&&e(13,X=S.color),"redNegatives"in S&&e(9,j=S.redNegatives)},r.$$.update=()=>{var S;if(r.$$.dirty&2304&&e(8,m=m??k),r.$$.dirty&21897)try{if(e(3,E=void 0),!P)if(f){if(typeof f=="string")throw Error(`Received: data=${f}, expected: data={${f}}`);if(Array.isArray(f)||e(7,f=[f]),isNaN(c))throw Error("row must be a number (row="+c+")");try{Object.keys(f[c])[0]}catch{throw Error("Row "+c+" does not exist in the dataset")}e(8,m=m??Object.keys(f[c])[0]),Bn(f,[m]),e(14,O=Ut(f,"array"));const B=O.filter(z=>{var L;return z.type==="date"&&!(((L=f[0])==null?void 0:L[z.id])instanceof Date)}).map(z=>z.id);for(let z=0;z<B.length;z++)e(7,f=Dr(f,B[z]));e(2,N=f[c][m]),e(14,O=O.filter(z=>z.id===m)),g?e(4,d=he(g,(S=O[0].format)==null?void 0:S.valueType)):e(4,d=O[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(B){if(e(3,E=B.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${E}`),yr)throw E}r.$$.dirty&2304&&k&&m&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.'),r.$$.dirty&8192&&s(e(6,n=u(X))),r.$$.dirty&512&&e(9,j=j==="true"||j===!0),r.$$.dirty&33284&&(j||l)&&(j&&N<0?e(5,C="rgb(220 38 38)"):l&&e(5,C=l))},[P,_,N,E,d,C,n,f,m,j,c,k,g,X,O,l]}class gl extends ct{constructor(t){super(),mt(this,t,hl,yl,at,{data:7,row:10,column:8,value:11,placeholder:0,description:1,fmt:12,color:13,redNegatives:9})}}function bl(r){let t;const e=r[7].default,n=Rt(e,r,r[8],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),t=!0},p(l,o){n&&n.p&&(!t||o&256)&&Qt(n,e,l,l[8],t?Yt(e,l[8],o,null):Kt(l[8]),null)},i(l){t||(T(n,l),t=!0)},o(l){M(n,l),t=!1},d(l){n&&n.d(l)}}}function dl(r){let t,e;const n=[r[4],{data:He.isQuery(r[11])?Array.from(r[11]):r[11]}];let l={$$slots:{default:[bl]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)l=Ue(l,n[o]);return t=new gl({props:l}),{c(){H(t.$$.fragment)},l(o){R(t.$$.fragment,o)},m(o,s){Q(t,o,s),e=!0},p(o,s){const u=s&2064?br(n,[s&16&&dr(o[4]),s&2048&&{data:He.isQuery(o[11])?Array.from(o[11]):o[11]}]):{};s&256&&(u.$$scope={dirty:s,ctx:o}),t.$set(u)},i(o){e||(T(t.$$.fragment,o),e=!0)},o(o){M(t.$$.fragment,o),e=!1},d(o){K(t,o)}}}function fr(r){let t,e;return t=new _r({props:{emptyMessage:r[2],emptySet:r[1],chartType:Sl,isInitial:r[3]}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,l){const o={};l&4&&(o.emptyMessage=n[2]),l&2&&(o.emptySet=n[1]),l&8&&(o.isInitial=n[3]),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}function _l(r){let t,e,n=!r[4].placeholder&&fr(r);return{c(){t=be("span"),n&&n.c(),this.h()},l(l){t=de(l,"SPAN",{slot:!0});var o=it(t);n&&n.l(o),o.forEach(V),this.h()},h(){se(t,"slot","empty")},m(l,o){ne(l,t,o),n&&n.m(t,null),e=!0},p(l,o){l[4].placeholder?n&&(yt(),M(n,1,1,()=>{n=null}),ht()):n?(n.p(l,o),o&16&&T(n,1)):(n=fr(l),n.c(),T(n,1),n.m(t,null))},i(l){e||(T(n),e=!0)},o(l){M(n),e=!1},d(l){l&&V(t),n&&n.d()}}}function Al(r){let t,e="Loading...";return{c(){t=be("span"),t.textContent=e,this.h()},l(n){t=de(n,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),cr(t)!=="svelte-89gxhc"&&(t.textContent=e),this.h()},h(){se(t,"slot","skeleton"),se(t,"class","text-base-content-muted")},m(n,l){ne(n,t,l)},p:fe,d(n){n&&V(t)}}}function kl(r){let t,e;return t=new gr({props:{data:r[0],$$slots:{skeleton:[Al],empty:[_l],default:[dl,({loaded:n})=>({11:n}),({loaded:n})=>n?2048:0]},$$scope:{ctx:r}}}),{c(){H(t.$$.fragment)},l(n){R(t.$$.fragment,n)},m(n,l){Q(t,n,l),e=!0},p(n,[l]){const o={};l&1&&(o.data=n[0]),l&2334&&(o.$$scope={dirty:l,ctx:n}),t.$set(o)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){M(t.$$.fragment,n),e=!1},d(n){K(t,n)}}}let Sl="Value";function wl(r,t,e){let n,{$$slots:l={},$$scope:o}=t,{data:s}=t,{column:u}=t,{agg:f}=t;const c=He.isQuery(s)?s.hash:void 0;let m=(s==null?void 0:s.hash)===c,{emptySet:k=void 0}=t,{emptyMessage:P=void 0}=t;return r.$$set=_=>{e(10,t=Ue(Ue({},t),Ht(_))),"data"in _&&e(0,s=_.data),"column"in _&&e(5,u=_.column),"agg"in _&&e(6,f=_.agg),"emptySet"in _&&e(1,k=_.emptySet),"emptyMessage"in _&&e(2,P=_.emptyMessage),"$$scope"in _&&e(8,o=_.$$scope)},r.$$.update=()=>{r.$$.dirty&97&&f&&e(0,s=s.groupBy(void 0).agg({[f]:{col:u,as:u}})),r.$$.dirty&1&&e(3,m=(s==null?void 0:s.hash)===c),e(4,n=Object.fromEntries(Object.entries(t).filter(([,_])=>_!==void 0)))},t=Ht(t),[s,k,P,m,n,u,f,l,o]}class Il extends ct{constructor(t){super(),mt(this,t,wl,kl,at,{data:0,column:5,agg:6,emptySet:1,emptyMessage:2})}}export{El as A,Dl as C,Il as V,jl as a,ut as b,Wr as c,Ol as g,Qr as r};
