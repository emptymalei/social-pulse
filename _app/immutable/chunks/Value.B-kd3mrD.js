import{s as ft,v as Gt,e as xe,d as Te,r as st,f as V,i as le,j as oe,k as Ue,z as Vt,A as Xt,B as Ut,b as Ft,l as Qr,n as Rr,q as te,I as Nt,a as mn,c as yn,K as Qe,L as qt,t as Pt,u as Bt,V as Kr,D as rn,g as nn}from"./scheduler.DtxdbRBG.js";import{S as it,i as at,t as I,b as O,g as Er,e as jr,c as Y,a as Z,m as J,d as W}from"./index.DqNKgMaH.js";import{G as He,ac as hn,ad as gn,ae as Cr,af as Yr,ag as Zr,h as ln,l as Lr,m as zt,ah as bn,n as ke,o as Xe,ai as Ot,q as ne,H as dn,J as _n,t as on,u as sn,Q as Re,v as un,w as fn,x as an,aj as An,ak as Sn,al as kn}from"./VennDiagram.svelte_svelte_type_style_lang.D65X_IA1.js";import{w as Jr}from"./entry.5a_p5bE0.js";import{E as xn}from"./ECharts.PgJkfQqj.js";function Tn(n){let t,e,r,l;const o=n[2].default,s=Gt(o,n,n[1],null);return{c(){t=xe("div"),e=xe("div"),s&&s.c(),this.h()},l(i){t=Te(i,"DIV",{class:!0,role:!0});var f=st(t);e=Te(f,"DIV",{});var h=st(e);s&&s.l(h),h.forEach(V),f.forEach(V),this.h()},h(){le(t,"class",r="alert "+n[0]+" svelte-1w1ov1c"),le(t,"role","alert")},m(i,f){oe(i,t,f),Ue(t,e),s&&s.m(e,null),l=!0},p(i,[f]){s&&s.p&&(!l||f&2)&&Vt(s,o,i,i[1],l?Ut(o,i[1],f,null):Xt(i[1]),null),(!l||f&1&&r!==(r="alert "+i[0]+" svelte-1w1ov1c"))&&le(t,"class",r)},i(i){l||(I(s,i),l=!0)},o(i){O(s,i),l=!1},d(i){i&&V(t),s&&s.d(i)}}}const Dr={default:"base",danger:"negative",success:"positive"},wn=n=>Object.keys(Dr).includes(n),Cn=n=>wn(n)?(console.warn(`[Alert] The status "${n}" is deprecated. Please use "${Dr[n]}" instead.`),Dr[n]):n;function Mn(n,t,e){let{$$slots:r={},$$scope:l}=t,{status:o="base"}=t;return n.$$set=s=>{"status"in s&&e(0,o=s.status),"$$scope"in s&&e(1,l=s.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&e(0,o=Cn(o))},[o,l,r]}class bl extends it{constructor(t){super(),at(this,t,Mn,Tn,ft,{status:0})}}function Wr(n){return e=>e.map(r=>{var l;const o={},s=Object.keys(r);for(const i of s){const f=(l=n[i])!=null?l:i;o[f]=r[i]}return o})}function Ln(n,t){if(n.length===0||t.length===0)return{};const e=Object.keys(n[0]),r=Object.keys(t[0]),l={};for(const o of e)r.includes(o)&&(l[o]=o);return l}function Dn(n,t,e){for(const r in e){const l=e[r];if(n[l]!==t[r])return!1}return!0}function En(n,t){return r=>{if(!n.length)return r;const l=Ln(r,n),o=Object.keys(n[0]);return r.flatMap(i=>{const f=n.filter(m=>Dn(i,m,l));if(f.length)return f.map(m=>({...i,...m}));const h=Object.fromEntries(o.filter(m=>i[m]==null).map(m=>[m,void 0]));return{...i,...h}})}}function pr(n){return e=>{const r=e.map(l=>({...l}));for(const l in n){const o=n[l],s=typeof o=="function"?o(r):o,i=s!=null&&s[Symbol.iterator]&&typeof s!="string"?s:e.map(()=>s);let f=-1;for(const h of r)h[l]=i[++f]}return r}}function jn(n){return e=>{const r=On(n),l=[];for(const o in r){const s=r[o];let i;typeof s=="function"?i=s(e):Array.isArray(s)?i=s:i=Array.from(new Set(e.map(f=>f[o]))),l.push(i.map(f=>({[o]:f})))}return In(l)}}function In(n){function t(r,l,o){if(!o.length&&l!=null){r.push(l);return}const s=o[0],i=o.slice(1);for(const f of s)t(r,{...l,...f},i)}const e=[];return t(e,null,n),e}function On(n){if(Array.isArray(n)){const t={};for(const e of n)t[e]=e;return t}else if(typeof n=="object")return n;return{[n]:n}}function Nn(n){return e=>{const r=[];for(const l of e){const o={...l};for(const s in n)o[s]==null&&(o[s]=n[s]);r.push(o)}return r}}function vr(n,t){return r=>{const l=jn(n)(r),o=En(r)(l);return t?Nn(t)(o):o}}function $r(n,t,e){return n==null||t==null?void 0:t===0&&n===0?0:!e&&t===0?void 0:n/t}function en(n,t,e){const r=typeof n=="function"?n:i=>i[n],l=i=>i[t],{predicate:o,allowDivideByZero:s}={};return o==null?(i,f,h)=>{const m=l(i),S=r(i,f,h);return $r(S,m,s)}:(i,f,h)=>{if(!o(i,f,h))return;const m=l(i),S=r(i,f,h);return $r(S,m,s)}}function ut(n,t){const e=new Set(n.map(r=>r[t]));return Array.from(e)}function Pn(n,t){return He(n,hn({count:gn(t)}))[0].count}function Bn(n,t,e){let r;if(typeof e!="object")r=He(n,Yr(t,pr({xTotal:Zr(e)})),Cr({percentOfX:en(e,"xTotal")}),Wr({percentOfX:e+"_pct"}));else{r=He(n,Cr({valueSum:0}));for(let l=0;l<r.length;l++){r[l].valueSum=0;for(let o=0;o<e.length;o++)r[l].valueSum=r[l].valueSum+r[l][e[o]]}r=He(r,Yr(t,pr({xTotal:Zr("valueSum")})));for(let l=0;l<e.length;l++)r=He(r,Cr({percentOfX:en(e[l],"xTotal")}),Wr({percentOfX:e[l]+"_pct"}))}return r}function Mr(n,t,e){return[...n].sort((r,l)=>(r[t]<l[t]?-1:1)*(e?1:-1))}function zn(n,t,e){const r=t+e;return n%r<t?0:1}function Fn(n){let t,e;return t=new on({props:{error:n[14],title:n[8]}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,l){const o={};l[0]&16384&&(o.error=r[14]),l[0]&256&&(o.title=r[8]),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function qn(n){let t,e,r;const l=n[132].default,o=Gt(l,n,n[131],null);return e=new xn({props:{config:n[20],height:n[15],width:n[13],data:n[0],queryID:n[5],evidenceChartTitle:n[7],showAllXAxisLabels:n[6],swapXY:n[2],echartsOptions:n[9],seriesOptions:n[10],printEchartsConfig:n[1],renderer:n[11],downloadableData:n[3],downloadableImage:n[4],connectGroup:n[12],seriesColors:n[16]}}),{c(){o&&o.c(),t=mn(),Y(e.$$.fragment)},l(s){o&&o.l(s),t=yn(s),Z(e.$$.fragment,s)},m(s,i){o&&o.m(s,i),oe(s,t,i),J(e,s,i),r=!0},p(s,i){o&&o.p&&(!r||i[4]&128)&&Vt(o,l,s,s[131],r?Ut(l,s[131],i,null):Xt(s[131]),null);const f={};i[0]&1048576&&(f.config=s[20]),i[0]&32768&&(f.height=s[15]),i[0]&8192&&(f.width=s[13]),i[0]&1&&(f.data=s[0]),i[0]&32&&(f.queryID=s[5]),i[0]&128&&(f.evidenceChartTitle=s[7]),i[0]&64&&(f.showAllXAxisLabels=s[6]),i[0]&4&&(f.swapXY=s[2]),i[0]&512&&(f.echartsOptions=s[9]),i[0]&1024&&(f.seriesOptions=s[10]),i[0]&2&&(f.printEchartsConfig=s[1]),i[0]&2048&&(f.renderer=s[11]),i[0]&8&&(f.downloadableData=s[3]),i[0]&16&&(f.downloadableImage=s[4]),i[0]&4096&&(f.connectGroup=s[12]),i[0]&65536&&(f.seriesColors=s[16]),e.$set(f)},i(s){r||(I(o,s),I(e.$$.fragment,s),r=!0)},o(s){O(o,s),O(e.$$.fragment,s),r=!1},d(s){s&&V(t),o&&o.d(s),W(e,s)}}}function Gn(n){let t,e,r,l;const o=[qn,Fn],s=[];function i(f,h){return f[14]?1:0}return t=i(n),e=s[t]=o[t](n),{c(){e.c(),r=Ft()},l(f){e.l(f),r=Ft()},m(f,h){s[t].m(f,h),oe(f,r,h),l=!0},p(f,h){let m=t;t=i(f),t===m?s[t].p(f,h):(Er(),O(s[m],1,1,()=>{s[m]=null}),jr(),e=s[t],e?e.p(f,h):(e=s[t]=o[t](f),e.c()),I(e,1),e.m(r.parentNode,r))},i(f){l||(I(e),l=!0)},o(f){O(e),l=!1},d(f){f&&V(r),s[t].d(f)}}}function Vn(n,t,e){let r,l,o,s,i,f=te,h=()=>(f(),f=Nt(o,u=>e(127,i=u)),o),m,S,T=te,w=()=>(T(),T=Nt(l,u=>e(129,S=u)),l),g,d=te,N=()=>(d(),d=Nt(r,u=>e(130,g=u)),r),D;n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>T()),n.$$.on_destroy.push(()=>d());let{$$slots:q={},$$scope:x}=t,j=Jr({}),A=Jr({});Qr(n,A,u=>e(20,D=u));const{theme:P,resolveColor:L,resolveColorsObject:we,resolveColorPalette:E}=ln();Qr(n,P,u=>e(128,m=u));let{data:a=void 0}=t,{queryID:_=void 0}=t,{x:b=void 0}=t,{y:c=void 0}=t,{y2:k=void 0}=t,{series:B=void 0}=t,{size:G=void 0}=t,{tooltipTitle:se=void 0}=t,{showAllXAxisLabels:Ir=!1}=t,{printEchartsConfig:Ke=!1}=t,Ht=!!c,Qt=!!b,{swapXY:M=!1}=t,{title:ct=void 0}=t,{subtitle:mt=void 0}=t,{chartType:yt="Chart"}=t,{bubble:Rt=!1}=t,{hist:Kt=!1}=t,{boxplot:Yt=!1}=t,ue,{xType:z=void 0}=t,{xAxisTitle:p="false"}=t,{xBaseline:fe=!0}=t,{xTickMarks:ie=!1}=t,{xGridlines:ae=!1}=t,{xAxisLabels:ce=!0}=t,{sort:me=!0}=t,{xFmt:ht=void 0}=t,{xMin:gt=void 0}=t,{xMax:bt=void 0}=t,{yLog:v=!1}=t,{yType:dt=v===!0?"log":"value"}=t,{yLogBase:_t=10}=t,{yAxisTitle:U="false"}=t,{yBaseline:ye=!1}=t,{yTickMarks:he=!1}=t,{yGridlines:ge=!0}=t,{yAxisLabels:be=!0}=t,{yMin:Ye=void 0}=t,{yMax:At=void 0}=t,{yScale:de=!1}=t,{yFmt:Ze=void 0}=t,{yAxisColor:Zt="true"}=t,{y2AxisTitle:re="false"}=t,{y2Baseline:Ce=!1}=t,{y2TickMarks:Me=!1}=t,{y2Gridlines:Le=!0}=t,{y2AxisLabels:De=!0}=t,{y2Min:St=void 0}=t,{y2Max:Jt=void 0}=t,{y2Scale:Ee=!1}=t,{y2Fmt:Je=void 0}=t,{y2AxisColor:Wt="true"}=t,{sizeFmt:kt=void 0}=t,{colorPalette:pt="default"}=t,{legend:H=void 0}=t,{echartsOptions:Or=void 0}=t,{seriesOptions:Nr=void 0}=t,{seriesColors:vt=void 0}=t,{stackType:$t=void 0}=t,{stacked100:We=!1}=t,{chartAreaHeight:Q}=t,{renderer:Pr=void 0}=t,{downloadableData:pe=!0}=t,{downloadableImage:ve=!0}=t,{connectGroup:Br=void 0}=t,C,xt,Tt=[],je=[],er,$e,R,tr,K,F,$,wt,rr,et,Ct,nr,Mt,Ie,lr,or,tt,Oe,sr,ur,fr,ir,ar,cr,mr,yr,hr,gr,br,Ne,rt,nt,Lt,Dt,dr,_r,Pe,Ar,Sr,Et,zr,kr,_e=[],Be=!0,ee=[],lt=[],X,jt,xr,Ae;return n.$$set=u=>{"data"in u&&e(0,a=u.data),"queryID"in u&&e(5,_=u.queryID),"x"in u&&e(23,b=u.x),"y"in u&&e(24,c=u.y),"y2"in u&&e(47,k=u.y2),"series"in u&&e(48,B=u.series),"size"in u&&e(49,G=u.size),"tooltipTitle"in u&&e(50,se=u.tooltipTitle),"showAllXAxisLabels"in u&&e(6,Ir=u.showAllXAxisLabels),"printEchartsConfig"in u&&e(1,Ke=u.printEchartsConfig),"swapXY"in u&&e(2,M=u.swapXY),"title"in u&&e(7,ct=u.title),"subtitle"in u&&e(51,mt=u.subtitle),"chartType"in u&&e(8,yt=u.chartType),"bubble"in u&&e(52,Rt=u.bubble),"hist"in u&&e(53,Kt=u.hist),"boxplot"in u&&e(54,Yt=u.boxplot),"xType"in u&&e(25,z=u.xType),"xAxisTitle"in u&&e(26,p=u.xAxisTitle),"xBaseline"in u&&e(27,fe=u.xBaseline),"xTickMarks"in u&&e(28,ie=u.xTickMarks),"xGridlines"in u&&e(29,ae=u.xGridlines),"xAxisLabels"in u&&e(30,ce=u.xAxisLabels),"sort"in u&&e(31,me=u.sort),"xFmt"in u&&e(55,ht=u.xFmt),"xMin"in u&&e(56,gt=u.xMin),"xMax"in u&&e(57,bt=u.xMax),"yLog"in u&&e(32,v=u.yLog),"yType"in u&&e(58,dt=u.yType),"yLogBase"in u&&e(59,_t=u.yLogBase),"yAxisTitle"in u&&e(33,U=u.yAxisTitle),"yBaseline"in u&&e(34,ye=u.yBaseline),"yTickMarks"in u&&e(35,he=u.yTickMarks),"yGridlines"in u&&e(36,ge=u.yGridlines),"yAxisLabels"in u&&e(37,be=u.yAxisLabels),"yMin"in u&&e(60,Ye=u.yMin),"yMax"in u&&e(61,At=u.yMax),"yScale"in u&&e(38,de=u.yScale),"yFmt"in u&&e(62,Ze=u.yFmt),"yAxisColor"in u&&e(63,Zt=u.yAxisColor),"y2AxisTitle"in u&&e(39,re=u.y2AxisTitle),"y2Baseline"in u&&e(40,Ce=u.y2Baseline),"y2TickMarks"in u&&e(41,Me=u.y2TickMarks),"y2Gridlines"in u&&e(42,Le=u.y2Gridlines),"y2AxisLabels"in u&&e(43,De=u.y2AxisLabels),"y2Min"in u&&e(64,St=u.y2Min),"y2Max"in u&&e(65,Jt=u.y2Max),"y2Scale"in u&&e(44,Ee=u.y2Scale),"y2Fmt"in u&&e(66,Je=u.y2Fmt),"y2AxisColor"in u&&e(67,Wt=u.y2AxisColor),"sizeFmt"in u&&e(68,kt=u.sizeFmt),"colorPalette"in u&&e(69,pt=u.colorPalette),"legend"in u&&e(45,H=u.legend),"echartsOptions"in u&&e(9,Or=u.echartsOptions),"seriesOptions"in u&&e(10,Nr=u.seriesOptions),"seriesColors"in u&&e(70,vt=u.seriesColors),"stackType"in u&&e(71,$t=u.stackType),"stacked100"in u&&e(72,We=u.stacked100),"chartAreaHeight"in u&&e(46,Q=u.chartAreaHeight),"renderer"in u&&e(11,Pr=u.renderer),"downloadableData"in u&&e(3,pe=u.downloadableData),"downloadableImage"in u&&e(4,ve=u.downloadableImage),"connectGroup"in u&&e(12,Br=u.connectGroup),"$$scope"in u&&e(131,x=u.$$scope)},n.$$.update=()=>{var u,Fr,qr,Gr,Vr,Xr;if(n.$$.dirty[0]&2&&e(1,Ke=Ke==="true"||Ke===!0),n.$$.dirty[0]&4&&(M==="true"||M===!0?e(2,M=!0):e(2,M=!1)),n.$$.dirty[0]&134217728&&e(27,fe=fe==="true"||fe===!0),n.$$.dirty[0]&268435456&&e(28,ie=ie==="true"||ie===!0),n.$$.dirty[0]&536870912&&e(29,ae=ae==="true"||ae===!0),n.$$.dirty[0]&1073741824&&e(30,ce=ce==="true"||ce===!0),n.$$.dirty[1]&1&&e(31,me=me==="true"||me===!0),n.$$.dirty[1]&2&&e(32,v=v==="true"||v===!0),n.$$.dirty[1]&8&&e(34,ye=ye==="true"||ye===!0),n.$$.dirty[1]&16&&e(35,he=he==="true"||he===!0),n.$$.dirty[1]&32&&e(36,ge=ge==="true"||ge===!0),n.$$.dirty[1]&64&&e(37,be=be==="true"||be===!0),n.$$.dirty[1]&128&&e(38,de=de==="true"||de===!0),n.$$.dirty[2]&2&&N(e(19,r=L(Zt))),n.$$.dirty[1]&512&&e(40,Ce=Ce==="true"||Ce===!0),n.$$.dirty[1]&1024&&e(41,Me=Me==="true"||Me===!0),n.$$.dirty[1]&2048&&e(42,Le=Le==="true"||Le===!0),n.$$.dirty[1]&4096&&e(43,De=De==="true"||De===!0),n.$$.dirty[1]&8192&&e(44,Ee=Ee==="true"||Ee===!0),n.$$.dirty[2]&32&&w(e(18,l=L(Wt))),n.$$.dirty[2]&128&&h(e(17,o=E(pt))),n.$$.dirty[2]&256&&e(16,s=we(vt)),n.$$.dirty[0]&8&&e(3,pe=pe==="true"||pe===!0),n.$$.dirty[0]&16&&e(4,ve=ve==="true"||ve===!0),n.$$.dirty[0]&2139120005|n.$$.dirty[1]&2147483647|n.$$.dirty[2]&2147483229|n.$$.dirty[3]&2147483647|n.$$.dirty[4]&127)try{if(e(14,jt=void 0),e(120,_e=[]),e(79,je=[]),e(122,ee=[]),e(123,lt=[]),e(81,$e=[]),e(73,Ht=!!c),e(74,Qt=!!b),Lr(a),e(76,C=zt(a)),e(77,xt=Object.keys(C)),Qt||e(23,b=xt[0]),!Ht){e(78,Tt=xt.filter(function(y){return![b,B,G].includes(y)}));for(let y=0;y<Tt.length;y++)e(81,$e=Tt[y]),e(80,er=C[$e].type),er==="number"&&je.push($e);e(24,c=je.length>1?je:je[0])}Rt?e(75,ue={x:b,y:c,size:G}):Kt?e(75,ue={x:b}):Yt?e(75,ue={}):e(75,ue={x:b,y:c});for(let y in ue)ue[y]==null&&_e.push(y);if(_e.length===1)throw Error(new Intl.ListFormat().format(_e)+" is required");if(_e.length>1)throw Error(new Intl.ListFormat().format(_e)+" are required");if(We===!0&&c.includes("_pct")&&Be===!1)if(typeof c=="object"){for(let y=0;y<c.length;y++)e(24,c[y]=c[y].replace("_pct",""),c);e(121,Be=!1)}else e(24,c=c.replace("_pct","")),e(121,Be=!1);if(b&&ee.push(b),c)if(typeof c=="object")for(e(124,X=0);X<c.length;e(124,X++,X))ee.push(c[X]);else ee.push(c);if(k)if(typeof k=="object")for(e(124,X=0);X<k.length;e(124,X++,X))ee.push(k[X]);else ee.push(k);if(G&&ee.push(G),B&&lt.push(B),se&&lt.push(se),Lr(a,ee,lt),We===!0){if(e(0,a=Bn(a,b,c)),typeof c=="object"){for(let y=0;y<c.length;y++)e(24,c[y]=c[y]+"_pct",c);e(121,Be=!1)}else e(24,c=c+"_pct"),e(121,Be=!1);e(76,C=zt(a))}switch(e(82,R=C[b].type),R){case"number":e(82,R="value");break;case"string":e(82,R="category");break;case"date":e(82,R="time");break;default:break}if(e(25,z=z==="category"?"category":R),M&&z!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(M&&k)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(M&&e(25,z="category"),e(83,tr=R==="value"&&z==="category"),e(0,a=me?R==="category"?Mr(a,c,!1):Mr(a,b,!0):a),R==="time"&&e(0,a=Mr(a,b,!0)),e(125,xr=zt(a,"array")),e(126,Ae=xr.filter(y=>y.type==="date")),e(126,Ae=Ae.map(y=>y.id)),Ae.length>0)for(let y=0;y<Ae.length;y++)e(0,a=bn(a,Ae[y]));ht?e(84,K=ke(ht,(u=C[b].format)==null?void 0:u.valueType)):e(84,K=C[b].format),c?Ze?typeof c=="object"?e(85,F=ke(Ze,(Fr=C[c[0]].format)==null?void 0:Fr.valueType)):e(85,F=ke(Ze,(qr=C[c].format)==null?void 0:qr.valueType)):typeof c=="object"?e(85,F=C[c[0]].format):e(85,F=C[c].format):e(85,F="str"),k&&(Je?typeof k=="object"?e(86,$=ke(Je,(Gr=C[k[0]].format)==null?void 0:Gr.valueType)):e(86,$=ke(Je,(Vr=C[k].format)==null?void 0:Vr.valueType)):typeof k=="object"?e(86,$=C[k[0]].format):e(86,$=C[k].format)),G&&(kt?e(87,wt=ke(kt,(Xr=C[G].format)==null?void 0:Xr.valueType)):e(87,wt=C[G].format)),e(88,rr=C[b].columnUnitSummary),c&&(typeof c=="object"?e(89,et=C[c[0]].columnUnitSummary):e(89,et=C[c].columnUnitSummary)),k&&(typeof k=="object"?e(90,Ct=C[k[0]].columnUnitSummary):e(90,Ct=C[k].columnUnitSummary)),e(26,p=p==="true"?Xe(b,K):p==="false"?"":p),e(33,U=U==="true"?typeof c=="object"?"":Xe(c,F):U==="false"?"":U),e(39,re=re==="true"?typeof k=="object"?"":Xe(k,$):re==="false"?"":re);let ze=typeof c=="object"?c.length:1,Ur=B?Pn(a,B):1,ot=ze*Ur,Tr=typeof k=="object"?k.length:k?1:0,wr=ot+Tr;if(H!==void 0&&e(45,H=H==="true"||H===!0),e(45,H=H??wr>1),We===!0&&v===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if($t==="stacked"&&wr>1&&v===!0)throw Error("Log axis cannot be used in a stacked chart");let Fe;if(typeof c=="object"){Fe=C[c[0]].columnUnitSummary.min;for(let y=0;y<c.length;y++)C[c[y]].columnUnitSummary.min<Fe&&(Fe=C[c[y]].columnUnitSummary.min)}else c&&(Fe=C[c].columnUnitSummary.min);if(v===!0&&Fe<=0&&Fe!==null)throw Error("Log axis cannot display values less than or equal to zero");j.update(y=>({...y,data:a,x:b,y:c,y2:k,series:B,swapXY:M,sort:me,xType:z,xFormat:K,yFormat:F,y2Format:$,sizeFormat:wt,xMismatch:tr,size:G,yMin:Ye,y2Min:St,columnSummary:C,xAxisTitle:p,yAxisTitle:U,y2AxisTitle:re,tooltipTitle:se,chartAreaHeight:Q,chartType:yt,yCount:ze,y2Count:Tr})),e(91,nr=ut(a,b));let Hr;if(M?e(92,Mt={type:dt,logBase:_t,position:"top",axisLabel:{show:be,hideOverlap:!0,showMaxLabel:!0,formatter(y){return Ot(y,F,et)},margin:4},min:Ye,max:At,scale:de,splitLine:{show:ge},axisLine:{show:ye,onZero:!1},axisTick:{show:he},boundaryGap:!1,z:2}):e(92,Mt={type:z,min:gt,max:bt,splitLine:{show:ae},axisLine:{show:fe},axisTick:{show:ie},axisLabel:{show:ce,hideOverlap:!0,showMaxLabel:z==="category"||z==="value",formatter:z==="time"||z==="category"?!1:function(y){return Ot(y,K,rr)},margin:6},scale:!0,z:2}),M?e(93,Ie={type:z,inverse:"true",splitLine:{show:ae},axisLine:{show:fe},axisTick:{show:ie},axisLabel:{show:ce,hideOverlap:!0},scale:!0,min:gt,max:bt,z:2}):(e(93,Ie={type:dt,logBase:_t,splitLine:{show:ge},axisLine:{show:ye,onZero:!1},axisTick:{show:he},axisLabel:{show:be,hideOverlap:!0,margin:4,formatter(y){return Ot(y,F,et)},color:k?g==="true"?i[0]:g!=="false"?g:void 0:void 0},name:U,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:k?g==="true"?i[0]:g!=="false"?g:void 0:void 0},nameGap:6,min:Ye,max:At,scale:de,boundaryGap:["0%","1%"],z:2}),Hr={type:"value",show:!1,alignTicks:!0,splitLine:{show:Le},axisLine:{show:Ce,onZero:!1},axisTick:{show:Me},axisLabel:{show:De,hideOverlap:!0,margin:4,formatter(y){return Ot(y,$,Ct)},color:S==="true"?i[ot]:S!=="false"?S:void 0},name:re,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:S==="true"?i[ot]:S!=="false"?S:void 0},nameGap:6,min:St,max:Jt,scale:Ee,boundaryGap:["0%","1%"],z:2},e(93,Ie=[Ie,Hr])),Q){if(e(46,Q=Number(Q)),isNaN(Q))throw Error("chartAreaHeight must be a number");if(Q<=0)throw Error("chartAreaHeight must be a positive number")}else e(46,Q=180);e(96,tt=!!ct),e(97,Oe=!!mt),e(98,sr=H*(B!==null||typeof c=="object"&&c.length>1)),e(99,ur=U!==""&&M),e(100,fr=p!==""&&!M),e(101,ir=15),e(102,ar=13),e(103,cr=6*Oe),e(104,mr=tt*ir+Oe*ar+cr*Math.max(tt,Oe)),e(105,yr=10),e(106,hr=8),e(107,gr=14),e(108,br=14),e(109,Ne=15),e(109,Ne=Ne*sr),e(110,rt=7),e(110,rt=rt*Math.max(tt,Oe)),e(111,nt=mr+rt),e(112,Lt=nt+Ne+br*ur+yr),e(113,Dt=fr*gr+hr),e(117,Ar=8),e(119,Et=1),M&&(e(118,Sr=nr.length),e(119,Et=Math.max(1,Sr/Ar))),e(114,dr=Q*Et+Lt+Dt),e(115,_r=nt+Ne+7),e(15,zr=dr+"px"),e(13,kr="100%"),e(116,Pe=M?U:p),Pe!==""&&e(116,Pe=Pe+" â†’"),e(94,lr={id:"horiz-axis-title",type:"text",style:{text:Pe,textAlign:"right",fill:m.colors["base-content-muted"]},cursor:"auto",right:M?"2%":"3%",top:M?_r:null,bottom:M?null:"2%"}),e(95,or={title:{text:ct,subtext:mt,subtextStyle:{width:kr}},tooltip:{trigger:"axis",formatter(y){let qe,Ge,Ve,It;if(wr>1){Ge=y[0].value[M?1:0],qe=`<span id="tooltip" style='font-weight: 600;'>${ne(Ge,K)}</span>`;for(let Se=y.length-1;Se>=0;Se--)y[Se].seriesName!=="stackTotal"&&(Ve=y[Se].value[M?0:1],qe=qe+`<br> <span style='font-size: 11px;'>${y[Se].marker} ${y[Se].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${ne(Ve,zn(y[Se].componentIndex,ze,Tr)===0?F:$)}</span>`)}else z==="value"?(Ge=y[0].value[M?1:0],Ve=y[0].value[M?0:1],It=y[0].seriesName,qe=`<span id="tooltip" style='font-weight: 600;'>${Xe(b,K)}: </span><span style='float:right; margin-left: 10px;'>${ne(Ge,K)}</span><br/><span style='font-weight: 600;'>${Xe(It,F)}: </span><span style='float:right; margin-left: 10px;'>${ne(Ve,F)}</span>`):(Ge=y[0].value[M?1:0],Ve=y[0].value[M?0:1],It=y[0].seriesName,qe=`<span id="tooltip" style='font-weight: 600;'>${ne(Ge,K)}</span><br/><span>${Xe(It,F)}: </span><span style='float:right; margin-left: 10px;'>${ne(Ve,F)}</span>`);return qe},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:H,type:"scroll",top:nt,padding:[0,0,0,0],data:[]},grid:{left:"0.5%",right:M?"4%":"3%",bottom:Dt,top:Lt,containLabel:!0},xAxis:Mt,yAxis:Ie,series:[],animation:!0,graphic:lr,color:i}),A.update(()=>or)}catch(ze){e(14,jt=ze.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${yt}: ${ze.message}`),j.update(ot=>({...ot,error:jt}))}n.$$.dirty[0]&1},Rr(dn,j),Rr(_n,A),[a,Ke,M,pe,ve,_,Ir,ct,yt,Or,Nr,Pr,Br,kr,jt,zr,s,o,l,r,D,A,P,b,c,z,p,fe,ie,ae,ce,me,v,U,ye,he,ge,be,de,re,Ce,Me,Le,De,Ee,H,Q,k,B,G,se,mt,Rt,Kt,Yt,ht,gt,bt,dt,_t,Ye,At,Ze,Zt,St,Jt,Je,Wt,kt,pt,vt,$t,We,Ht,Qt,ue,C,xt,Tt,je,er,$e,R,tr,K,F,$,wt,rr,et,Ct,nr,Mt,Ie,lr,or,tt,Oe,sr,ur,fr,ir,ar,cr,mr,yr,hr,gr,br,Ne,rt,nt,Lt,Dt,dr,_r,Pe,Ar,Sr,Et,_e,Be,ee,lt,X,xr,Ae,i,m,S,g,x,q]}class Xn extends it{constructor(t){super(),at(this,t,Vn,Gn,ft,{data:0,queryID:5,x:23,y:24,y2:47,series:48,size:49,tooltipTitle:50,showAllXAxisLabels:6,printEchartsConfig:1,swapXY:2,title:7,subtitle:51,chartType:8,bubble:52,hist:53,boxplot:54,xType:25,xAxisTitle:26,xBaseline:27,xTickMarks:28,xGridlines:29,xAxisLabels:30,sort:31,xFmt:55,xMin:56,xMax:57,yLog:32,yType:58,yLogBase:59,yAxisTitle:33,yBaseline:34,yTickMarks:35,yGridlines:36,yAxisLabels:37,yMin:60,yMax:61,yScale:38,yFmt:62,yAxisColor:63,y2AxisTitle:39,y2Baseline:40,y2TickMarks:41,y2Gridlines:42,y2AxisLabels:43,y2Min:64,y2Max:65,y2Scale:44,y2Fmt:66,y2AxisColor:67,sizeFmt:68,colorPalette:69,legend:45,echartsOptions:9,seriesOptions:10,seriesColors:70,stackType:71,stacked100:72,chartAreaHeight:46,renderer:11,downloadableData:3,downloadableImage:4,connectGroup:12},null,[-1,-1,-1,-1,-1])}}function Un(n){let t;const e=n[6].default,r=Gt(e,n,n[7],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),t=!0},p(l,o){r&&r.p&&(!t||o&128)&&Vt(r,e,l,l[7],t?Ut(e,l[7],o,null):Xt(l[7]),null)},i(l){t||(I(r,l),t=!0)},o(l){O(r,l),t=!1},d(l){r&&r.d(l)}}}function Hn(n){let t,e;const r=[n[4],{data:Re.isQuery(n[10])?Array.from(n[10]):n[10]},{queryID:n[5]}];let l={$$slots:{default:[Un]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)l=Qe(l,r[o]);return t=new Xn({props:l}),{c(){Y(t.$$.fragment)},l(o){Z(t.$$.fragment,o)},m(o,s){J(t,o,s),e=!0},p(o,s){const i=s&1072?un(r,[s&16&&fn(o[4]),s&1024&&{data:Re.isQuery(o[10])?Array.from(o[10]):o[10]},s&32&&{queryID:o[5]}]):{};s&128&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){e||(I(t.$$.fragment,o),e=!0)},o(o){O(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Qn(n){let t,e;return t=new an({props:{slot:"empty",emptyMessage:n[2],emptySet:n[1],chartType:n[4].chartType,isInitial:n[3]}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,l){const o={};l&4&&(o.emptyMessage=r[2]),l&2&&(o.emptySet=r[1]),l&16&&(o.chartType=r[4].chartType),l&8&&(o.isInitial=r[3]),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function Rn(n){let t,e;return t=new on({props:{slot:"error",title:n[4].chartType,error:n[10].error.message}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,l){const o={};l&16&&(o.title=r[4].chartType),l&1024&&(o.error=r[10].error.message),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function Kn(n){let t,e;return t=new sn({props:{data:n[0],$$slots:{error:[Rn,({loaded:r})=>({10:r}),({loaded:r})=>r?1024:0],empty:[Qn],default:[Hn,({loaded:r})=>({10:r}),({loaded:r})=>r?1024:0]},$$scope:{ctx:n}}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&1182&&(o.$$scope={dirty:l,ctx:r}),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function Yn(n,t,e){let r,{$$slots:l={},$$scope:o}=t,{data:s}=t;const i=Re.isQuery(s)?s.hash:void 0;let f=(s==null?void 0:s.hash)===i,{emptySet:h=void 0}=t,{emptyMessage:m=void 0}=t,S=s==null?void 0:s.id;return n.$$set=T=>{e(9,t=Qe(Qe({},t),qt(T))),"data"in T&&e(0,s=T.data),"emptySet"in T&&e(1,h=T.emptySet),"emptyMessage"in T&&e(2,m=T.emptyMessage),"$$scope"in T&&e(7,o=T.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&e(3,f=(s==null?void 0:s.hash)===i),e(4,r={...Object.fromEntries(Object.entries(t).filter(([,T])=>T!==void 0))})},t=qt(t),[s,h,m,f,r,S,l,o]}class dl extends it{constructor(t){super(),at(this,t,Yn,Kn,ft,{data:0,emptySet:1,emptyMessage:2})}}function _l(n,t,e,r,l,o,s,i,f,h,m=void 0,S=void 0,T=void 0,w=void 0){function g(a,_,b,c){let k={name:_,data:a,yAxisIndex:b};return k={...c,...k},k}let d,N,D,q=[],x,j,A,P,L;function we(a,_){const b=[];function c(B){return typeof B>"u"}function k(B,G){c(B)||(Array.isArray(B)?B.forEach(se=>b.push([se,G])):b.push([B,G]))}return k(a,0),k(_,1),b}let E=we(e,T);if(r!=null&&E.length===1)for(P=ut(n,r),d=0;d<P.length;d++){if(j=n.filter(a=>a[r]===P[d]),l?x=j.map(a=>[a[E[0][0]],i?a[t].toString():a[t]]):x=j.map(a=>[i?a[t].toString():a[t],a[E[0][0]]]),m){let a=j.map(_=>_[m]);x.forEach((_,b)=>_.push(a[b]))}if(S){let a=j.map(_=>_[S]);x.forEach((_,b)=>_.push(a[b]))}A=P[d]??"null",L=E[0][1],D=g(x,A,L,o),q.push(D)}if(r!=null&&E.length>1)for(P=ut(n,r),d=0;d<P.length;d++)for(j=n.filter(a=>a[r]===P[d]),N=0;N<E.length;N++){if(l?x=j.map(a=>[a[E[N][0]],i?a[t].toString():a[t]]):x=j.map(a=>[i?a[t].toString():a[t],a[E[N][0]]]),m){let a=j.map(_=>_[m]);x.forEach((_,b)=>_.push(a[b]))}if(S){let a=j.map(_=>_[S]);x.forEach((_,b)=>_.push(a[b]))}A=(P[d]??"null")+" - "+f[E[N][0]].title,L=E[N][1],D=g(x,A,L,o),q.push(D)}if(r==null&&E.length>1)for(d=0;d<E.length;d++){if(l?x=n.map(a=>[a[E[d][0]],i?a[t].toString():a[t]]):x=n.map(a=>[i?a[t].toString():a[t],a[E[d][0]]]),m){let a=n.map(_=>_[m]);x.forEach((_,b)=>_.push(a[b]))}if(S){let a=n.map(_=>_[S]);x.forEach((_,b)=>_.push(a[b]))}A=f[E[d][0]].title,L=E[d][1],D=g(x,A,L,o),q.push(D)}if(r==null&&E.length===1){if(l?x=n.map(a=>[a[E[0][0]],i?a[t].toString():a[t]]):x=n.map(a=>[i?a[t].toString():a[t],a[E[0][0]]]),m){let a=n.map(_=>_[m]);x.forEach((_,b)=>_.push(a[b]))}if(S){let a=n.map(_=>_[S]);x.forEach((_,b)=>_.push(a[b]))}A=f[E[0][0]].title,L=E[0][1],D=g(x,A,L,o),q.push(D)}return h&&q.sort((a,_)=>h.indexOf(a.name)-h.indexOf(_.name)),w&&q.forEach(a=>{a.name=An(a.name,w)}),q}function Zn(n){let t=[];for(let e=1;e<n.length;e++)t.push(n[e]-n[e-1]);return t}function cn(n,t){return(typeof n!="number"||isNaN(n))&&(n=0),(typeof t!="number"||isNaN(t))&&(t=0),n=Math.abs(n),t=Math.abs(t),t<=.01?n:cn(t,n%t)}function Jn(n,t){if(!Array.isArray(n))throw new TypeError("Cannot calculate extent of non-array value.");let e,r;for(const l of n)typeof l=="number"&&(e===void 0?l>=l&&(e=r=l):(e>l&&(e=l),r<l&&(r=l)));return[e,r]}function Wn(n,t){let[e,r]=Jn(n);const l=[];let o=e;for(;o<=r;)l.push(Math.round((o+Number.EPSILON)*1e8)/1e8),o+=t;return l}function pn(n){if(n.length<=1)return;n.sort(function(e,r){return e-r}),n=n.map(function(e){return e*1e8}),n=Zn(n);let t=n.reduce((e,r)=>cn(e,r))/1e8;return t=Math.round((t+Number.EPSILON)*1e8)/1e8,t}function Al(n,t,e,r,l=!1,o=!1){var w;let s=!1;const i=n.map(g=>Object.assign({},g,{[t]:g[t]instanceof Date?(s=!0,g[t].toISOString()):g[t]})).filter(g=>g[t]!==void 0&&g[t]!==null),f=Array.from(i).reduce((g,d)=>(d[t]instanceof Date&&(d[t]=d[t].toISOString(),s=!0),r?(g[d[r]??"null"]||(g[d[r]??"null"]=[]),g[d[r]??"null"].push(d)):(g.default||(g.default=[]),g.default.push(d)),g),{}),h={};let m;const S=((w=i.find(g=>g&&g[t]!==null&&g[t]!==void 0))==null?void 0:w[t])??null;switch(typeof S){case"object":throw S===null?new Error(`Column '${t}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(m=ut(i,t),o){const g=pn(m);h[t]=Wn(m,g)}break;case"string":m=ut(i,t),h[t]=m;break}const T=[];for(const g of Object.values(f)){const d=r?{[r]:null}:{};if(l)if(e instanceof Array)for(let D=0;D<e.length;D++)d[e[D]]=0;else d[e]=0;else if(e instanceof Array)for(let D=0;D<e.length;D++)d[e[D]]=null;else d[e]=null;r&&(h[r]=r);const N=[];Object.keys(h).length===0?N.push(vr([t],d)):N.push(vr(h,d)),T.push(He(g,...N))}return s?T.flat().map(g=>({...g,[t]:new Date(g[t])})):T.flat()}function vn(n){let t,e;return t=new kn({props:{error:n[2]}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,l){const o={};l&4&&(o.error=r[2]),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function $n(n){let t,e=ne(n[1],n[3])+"",r;return{c(){t=xe("span"),r=Pt(e),this.h()},l(l){t=Te(l,"SPAN",{style:!0});var o=st(t);r=Bt(o,e),o.forEach(V),this.h()},h(){Kr(t,"color",n[4])},m(l,o){oe(l,t,o),Ue(t,r)},p(l,o){o&10&&e!==(e=ne(l[1],l[3])+"")&&rn(r,e),o&16&&Kr(t,"color",l[4])},i:te,o:te,d(l){l&&V(t)}}}function el(n){let t,e,r,l,o,s="Placeholder: no data currently referenced.";return{c(){t=xe("span"),e=Pt("["),r=Pt(n[0]),l=Pt("]"),o=xe("span"),o.textContent=s,this.h()},l(i){t=Te(i,"SPAN",{class:!0});var f=st(t);e=Bt(f,"["),r=Bt(f,n[0]),l=Bt(f,"]"),o=Te(f,"SPAN",{class:!0,"data-svelte-h":!0}),nn(o)!=="svelte-ddarzq"&&(o.textContent=s),f.forEach(V),this.h()},h(){le(o,"class","error-msg svelte-1qvl5jp"),le(t,"class","placeholder svelte-1qvl5jp")},m(i,f){oe(i,t,f),Ue(t,e),Ue(t,r),Ue(t,l),Ue(t,o)},p(i,f){f&1&&rn(r,i[0])},i:te,o:te,d(i){i&&V(t)}}}function tl(n){let t,e,r,l;const o=[el,$n,vn],s=[];function i(f,h){return f[0]?0:f[2]?2:1}return t=i(n),e=s[t]=o[t](n),{c(){e.c(),r=Ft()},l(f){e.l(f),r=Ft()},m(f,h){s[t].m(f,h),oe(f,r,h),l=!0},p(f,[h]){let m=t;t=i(f),t===m?s[t].p(f,h):(Er(),O(s[m],1,1,()=>{s[m]=null}),jr(),e=s[t],e?e.p(f,h):(e=s[t]=o[t](f),e.c()),I(e,1),e.m(r.parentNode,r))},i(f){l||(I(e),l=!0)},o(f){O(e),l=!1},d(f){f&&V(r),s[t].d(f)}}}function rl(n,t,e){let r,l,o=te,s=()=>(o(),o=Nt(r,A=>e(14,l=A)),r);n.$$.on_destroy.push(()=>o());const{resolveColor:i}=ln();let{data:f=null}=t,{row:h=0}=t,{column:m=null}=t,{value:S=null}=t,{placeholder:T=null}=t,{fmt:w=void 0}=t,g,d,N,{color:D=void 0}=t,q="",{redNegatives:x=!1}=t,j;return n.$$set=A=>{"data"in A&&e(6,f=A.data),"row"in A&&e(9,h=A.row),"column"in A&&e(7,m=A.column),"value"in A&&e(10,S=A.value),"placeholder"in A&&e(0,T=A.placeholder),"fmt"in A&&e(11,w=A.fmt),"color"in A&&e(12,D=A.color),"redNegatives"in A&&e(8,x=A.redNegatives)},n.$$.update=()=>{var A;if(n.$$.dirty&1152&&e(7,m=m??S),n.$$.dirty&10949)try{if(e(2,N=void 0),!T)if(f){if(typeof f=="string")throw Error(`Received: data=${f}, expected: data={${f}}`);if(Array.isArray(f)||e(6,f=[f]),isNaN(h))throw Error("row must be a number (row="+h+")");try{Object.keys(f[h])[0]}catch{throw Error("Row "+h+" does not exist in the dataset")}e(7,m=m??Object.keys(f[h])[0]),Lr(f,[m]),e(13,j=zt(f,"array"));const P=j.filter(L=>{var we;return L.type==="date"&&!(((we=f[0])==null?void 0:we[L.id])instanceof Date)}).map(L=>L.id);for(let L=0;L<P.length;L++)e(6,f=Sn(f,P[L]));e(1,d=f[h][m]),e(13,j=j.filter(L=>L.id===m)),w?e(3,g=ke(w,(A=j[0].format)==null?void 0:A.valueType)):e(3,g=j[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(P){e(2,N=P.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${N}`)}n.$$.dirty&1152&&S&&m&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.'),n.$$.dirty&4096&&s(e(5,r=i(D))),n.$$.dirty&256&&e(8,x=x==="true"||x===!0),n.$$.dirty&16642&&(x||l)&&(x&&d<0?e(4,q="rgb(220 38 38)"):l&&e(4,q=l))},[T,d,N,g,q,r,f,m,x,h,S,w,D,j,l]}class nl extends it{constructor(t){super(),at(this,t,rl,tl,ft,{data:6,row:9,column:7,value:10,placeholder:0,fmt:11,color:12,redNegatives:8})}}function ll(n){let t;const e=n[7].default,r=Gt(e,n,n[8],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),t=!0},p(l,o){r&&r.p&&(!t||o&256)&&Vt(r,e,l,l[8],t?Ut(e,l[8],o,null):Xt(l[8]),null)},i(l){t||(I(r,l),t=!0)},o(l){O(r,l),t=!1},d(l){r&&r.d(l)}}}function ol(n){let t,e;const r=[n[4],{data:Re.isQuery(n[11])?Array.from(n[11]):n[11]}];let l={$$slots:{default:[ll]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)l=Qe(l,r[o]);return t=new nl({props:l}),{c(){Y(t.$$.fragment)},l(o){Z(t.$$.fragment,o)},m(o,s){J(t,o,s),e=!0},p(o,s){const i=s&2064?un(r,[s&16&&fn(o[4]),s&2048&&{data:Re.isQuery(o[11])?Array.from(o[11]):o[11]}]):{};s&256&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){e||(I(t.$$.fragment,o),e=!0)},o(o){O(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function tn(n){let t,e;return t=new an({props:{emptyMessage:n[2],emptySet:n[1],chartType:il,isInitial:n[3]}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,l){const o={};l&4&&(o.emptyMessage=r[2]),l&2&&(o.emptySet=r[1]),l&8&&(o.isInitial=r[3]),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}function sl(n){let t,e,r=!n[4].placeholder&&tn(n);return{c(){t=xe("span"),r&&r.c(),this.h()},l(l){t=Te(l,"SPAN",{slot:!0});var o=st(t);r&&r.l(o),o.forEach(V),this.h()},h(){le(t,"slot","empty")},m(l,o){oe(l,t,o),r&&r.m(t,null),e=!0},p(l,o){l[4].placeholder?r&&(Er(),O(r,1,1,()=>{r=null}),jr()):r?(r.p(l,o),o&16&&I(r,1)):(r=tn(l),r.c(),I(r,1),r.m(t,null))},i(l){e||(I(r),e=!0)},o(l){O(r),e=!1},d(l){l&&V(t),r&&r.d()}}}function ul(n){let t,e="Loading...";return{c(){t=xe("span"),t.textContent=e,this.h()},l(r){t=Te(r,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),nn(t)!=="svelte-89gxhc"&&(t.textContent=e),this.h()},h(){le(t,"slot","skeleton"),le(t,"class","text-base-content-muted")},m(r,l){oe(r,t,l)},p:te,d(r){r&&V(t)}}}function fl(n){let t,e;return t=new sn({props:{data:n[0],$$slots:{skeleton:[ul],empty:[sl],default:[ol,({loaded:r})=>({11:r}),({loaded:r})=>r?2048:0]},$$scope:{ctx:n}}}),{c(){Y(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,l){J(t,r,l),e=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&2334&&(o.$$scope={dirty:l,ctx:r}),t.$set(o)},i(r){e||(I(t.$$.fragment,r),e=!0)},o(r){O(t.$$.fragment,r),e=!1},d(r){W(t,r)}}}let il="Value";function al(n,t,e){let r,{$$slots:l={},$$scope:o}=t,{data:s}=t,{column:i}=t,{agg:f}=t;const h=Re.isQuery(s)?s.hash:void 0;let m=(s==null?void 0:s.hash)===h,{emptySet:S=void 0}=t,{emptyMessage:T=void 0}=t;return n.$$set=w=>{e(10,t=Qe(Qe({},t),qt(w))),"data"in w&&e(0,s=w.data),"column"in w&&e(5,i=w.column),"agg"in w&&e(6,f=w.agg),"emptySet"in w&&e(1,S=w.emptySet),"emptyMessage"in w&&e(2,T=w.emptyMessage),"$$scope"in w&&e(8,o=w.$$scope)},n.$$.update=()=>{n.$$.dirty&97&&f&&e(0,s=s.groupBy(void 0).agg({[f]:{col:i,as:i}})),n.$$.dirty&1&&e(3,m=(s==null?void 0:s.hash)===h),e(4,r=Object.fromEntries(Object.entries(t).filter(([,w])=>w!==void 0)))},t=qt(t),[s,S,T,m,r,i,f,l,o]}class Sl extends it{constructor(t){super(),at(this,t,al,fl,ft,{data:0,column:5,agg:6,emptySet:1,emptyMessage:2})}}export{bl as A,dl as C,Sl as V,_l as a,ut as b,zn as c,Al as g,Nn as r};
