import{M as le,N as ne,O as M,P as ae,s as K,b as I,j as k,f as b,t as L,e as v,u as P,d as $,r as T,i as E,k as C,q as N,a as O,c as j,w as S,x as Q,g as F}from"../chunks/scheduler.DtxdbRBG.js";import{g as q,b as w,e as A,t as g,S as X,i as Y,c as D,a as H,m as U,d as B}from"../chunks/index.DqNKgMaH.js";import{y as R,z as Z,A as ee,I as te,B as re,T as se,F as oe}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.CZuKS2KU.js";import"../chunks/entry.DTFy_HPW.js";function ce(s,e){const l=e.token={};function t(n,o,f,_){if(e.token!==l)return;e.resolved=_;let i=e.ctx;f!==void 0&&(i=i.slice(),i[f]=_);const a=n&&(e.current=n)(i);let r=!1;e.block&&(e.blocks?e.blocks.forEach((m,c)=>{c!==o&&m&&(q(),w(m,1,1,()=>{e.blocks[c]===m&&(e.blocks[c]=null)}),A())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),r=!0),e.block=a,e.blocks&&(e.blocks[o]=a),r&&ae()}if(le(s)){const n=ne();if(s.then(o=>{M(n),t(e.then,1,e.value,o),M(null)},o=>{if(M(n),t(e.catch,2,e.error,o),M(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function ie(s,e,l){const t=e.slice(),{resolved:n}=s;s.current===s.then&&(t[s.value]=n),s.current===s.catch&&(t[s.error]=n),s.block.p(t,l)}function V(s,e,l){const t=s.slice();return t[8]=e[l][0],t[9]=e[l][1],t}function W(s,e,l){const t=s.slice();return t[12]=e[l][0],t[13]=e[l][1],t}function ue(s){let e,l,t=s[16].message+"",n;return{c(){e=L(`An error was encountered while loading project schema.

	`),l=v("pre"),n=L(t),this.h()},l(o){e=P(o,`An error was encountered while loading project schema.

	`),l=$(o,"PRE",{class:!0});var f=T(l);n=P(f,t),f.forEach(b),this.h()},h(){E(l,"class","px-4 py-2 bg-negative")},m(o,f){k(o,e,f),k(o,l,f),C(l,n)},p:N,i:N,o:N,d(o){o&&(b(e),b(l))}}}function fe(s){let e,l,t,n=[],o=new Map,f,_=R(Object.entries(s[7]));const i=a=>a[8];for(let a=0;a<_.length;a+=1){let r=V(s,_,a),m=i(r);o.set(m,n[a]=J(m,r))}return{c(){e=v("section"),l=v("div"),t=v("ul");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=$(a,"SECTION",{});var r=T(e);l=$(r,"DIV",{});var m=T(l);t=$(m,"UL",{class:!0});var c=T(t);for(let p=0;p<n.length;p+=1)n[p].l(c);c.forEach(b),m.forEach(b),r.forEach(b),this.h()},h(){E(t,"class","list-none m-0 p-0 flex flex-col gap-1 mb-1")},m(a,r){k(a,e,r),C(e,l),C(l,t);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);f=!0},p(a,r){r&7&&(_=R(Object.entries(a[7])),q(),n=Z(n,r,i,1,a,_,o,t,ee,J,null,V),A())},i(a){if(!f){for(let r=0;r<_.length;r+=1)g(n[r]);f=!0}},o(a){for(let r=0;r<n.length;r+=1)w(n[r]);f=!1},d(a){a&&b(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}function x(s){let e,l=[],t=new Map,n,o,f=R(Object.entries(s[9]));const _=i=>i[12];for(let i=0;i<f.length;i+=1){let a=W(s,f,i),r=_(a);t.set(r,l[i]=G(r,a))}return{c(){e=v("ul");for(let i=0;i<l.length;i+=1)l[i].c();n=O(),this.h()},l(i){e=$(i,"UL",{class:!0});var a=T(e);for(let r=0;r<l.length;r+=1)l[r].l(a);n=j(a),a.forEach(b),this.h()},h(){E(e,"class","list-none m-0 flex flex-col gap-1")},m(i,a){k(i,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);C(e,n),o=!0},p(i,a){a&5&&(f=R(Object.entries(i[9])),q(),l=Z(l,a,_,1,i,f,t,e,ee,G,n,W),A())},i(i){if(!o){for(let a=0;a<f.length;a+=1)g(l[a]);o=!0}},o(i){for(let a=0;a<l.length;a+=1)w(l[a]);o=!1},d(i){i&&b(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function z(s){let e,l;return e=new oe({props:{columns:s[13].columns,rowClass:"ml-6 "}}),{c(){D(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){U(e,t,n),l=!0},p:N,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function G(s,e){let l,t,n,o,f=e[12]+"",_,i,a,r,m,c;n=new te({props:{src:se,class:"w-5 h-5 mr-1"}});function p(){return e[5](e[13])}let u=e[0]===e[13]&&z(e);return{key:s,first:null,c(){l=v("li"),t=v("button"),D(n.$$.fragment),o=O(),_=L(f),i=O(),u&&u.c(),a=I(),this.h()},l(h){l=$(h,"LI",{class:!0});var d=T(l);t=$(d,"BUTTON",{class:!0});var y=T(t);H(n.$$.fragment,y),o=j(y),_=P(y,f),y.forEach(b),d.forEach(b),i=j(h),u&&u.l(h),a=I(),this.h()},h(){E(t,"class","bg-base-200 px-2 py-1 rounded flex w-full hover:bg-base-300 hover:text-base-content"),S(t,"bg-info",e[0]===e[13]),S(t,"text-info-content",e[0]===e[13]),E(l,"class","font-mono m-0 text-sm font-bold ml-3"),this.first=l},m(h,d){k(h,l,d),C(l,t),U(n,t,null),C(t,o),C(t,_),k(h,i,d),u&&u.m(h,d),k(h,a,d),r=!0,m||(c=Q(t,"click",p),m=!0)},p(h,d){e=h,(!r||d&5)&&S(t,"bg-info",e[0]===e[13]),(!r||d&5)&&S(t,"text-info-content",e[0]===e[13]),e[0]===e[13]?u?(u.p(e,d),d&1&&g(u,1)):(u=z(e),u.c(),g(u,1),u.m(a.parentNode,a)):u&&(q(),w(u,1,1,()=>{u=null}),A())},i(h){r||(g(n.$$.fragment,h),g(u),r=!0)},o(h){w(n.$$.fragment,h),w(u),r=!1},d(h){h&&(b(l),b(i),b(a)),B(n),u&&u.d(h),m=!1,c()}}}function J(s,e){let l,t,n,o,f=e[8]+"",_,i,a,r,m,c;n=new te({props:{src:re,class:"w-5 h-5 mr-1"}});function p(){return e[4](e[8])}let u=e[1]===e[8]&&x(e);return{key:s,first:null,c(){l=v("li"),t=v("button"),D(n.$$.fragment),o=O(),_=L(f),i=O(),u&&u.c(),a=I(),this.h()},l(h){l=$(h,"LI",{class:!0});var d=T(l);t=$(d,"BUTTON",{class:!0});var y=T(t);H(n.$$.fragment,y),o=j(y),_=P(y,f),y.forEach(b),d.forEach(b),i=j(h),u&&u.l(h),a=I(),this.h()},h(){E(t,"class","bg-base-200 px-2 py-1 rounded font-bold flex w-full hover:bg-base-300 hover:text-base-content"),S(t,"bg-info",e[1]===e[8]),S(t,"text-info-content",e[1]===e[8]),E(l,"class","font-mono m-0 text-sm"),this.first=l},m(h,d){k(h,l,d),C(l,t),U(n,t,null),C(t,o),C(t,_),k(h,i,d),u&&u.m(h,d),k(h,a,d),r=!0,m||(c=Q(t,"click",p),m=!0)},p(h,d){e=h,(!r||d&6)&&S(t,"bg-info",e[1]===e[8]),(!r||d&6)&&S(t,"text-info-content",e[1]===e[8]),e[1]===e[8]?u?(u.p(e,d),d&2&&g(u,1)):(u=x(e),u.c(),g(u,1),u.m(a.parentNode,a)):u&&(q(),w(u,1,1,()=>{u=null}),A())},i(h){r||(g(n.$$.fragment,h),g(u),r=!0)},o(h){w(n.$$.fragment,h),w(u),r=!1},d(h){h&&(b(l),b(i),b(a)),B(n),u&&u.d(h),m=!1,c()}}}function he(s){let e;return{c(){e=L("Loading Schema Information...")},l(l){e=P(l,"Loading Schema Information...")},m(l,t){k(l,e,t)},p:N,i:N,o:N,d(l){l&&b(e)}}}function _e(s){let e,l,t={ctx:s,current:null,token:null,hasCatch:!0,pending:he,then:fe,catch:ue,value:7,error:16,blocks:[,,,]};return ce(s[2](),t),{c(){e=I(),t.block.c()},l(n){e=I(),t.block.l(n)},m(n,o){k(n,e,o),t.block.m(n,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,[o]){s=n,ie(t,s,o)},i(n){l||(g(t.block),l=!0)},o(n){for(let o=0;o<3;o+=1){const f=t.blocks[o];w(f)}l=!1},d(n){n&&b(e),t.block.d(n),t.token=null,t=null}}}function me(s,e,l){let{data:t}=e,{__db:n}=t;async function o(){const r=await n.query("SELECT * FROM information_schema.tables WHERE table_catalog = 'memory' AND table_name != 'stats'"),m={};return await Promise.all(r.map(async c=>{const p=await n.query(`SELECT * FROM information_schema.columns WHERE table_name = '${c.table_name}' AND table_schema = '${c.table_schema}'`);m[c.table_schema]||(m[c.table_schema]={}),m[c.table_schema][c.table_name]={table:c,columns:p}})),m}let f="",_="";const i=r=>{l(1,_=_===r?"":r),l(0,f="")},a=r=>{l(0,f=f===r?"":r)};return s.$$set=r=>{"data"in r&&l(3,t=r.data)},[f,_,o,t,i,a]}class be extends X{constructor(e){super(),Y(this,e,me,_e,K,{data:3})}}function de(s){let e,l="Project Schema",t,n,o="This page details the tables and columns that are currently loaded in your project.",f,_,i="Sources",a,r,m;return r=new be({props:{data:s[0]}}),{c(){e=v("h1"),e.textContent=l,t=O(),n=v("p"),n.textContent=o,f=O(),_=v("h2"),_.textContent=i,a=O(),D(r.$$.fragment),this.h()},l(c){e=$(c,"H1",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-15777oi"&&(e.textContent=l),t=j(c),n=$(c,"P",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-ak948l"&&(n.textContent=o),f=j(c),_=$(c,"H2",{class:!0,"data-svelte-h":!0}),F(_)!=="svelte-9qt1ro"&&(_.textContent=i),a=j(c),H(r.$$.fragment,c),this.h()},h(){E(e,"class","markdown"),E(n,"class","markdown"),E(_,"class","markdown")},m(c,p){k(c,e,p),k(c,t,p),k(c,n,p),k(c,f,p),k(c,_,p),k(c,a,p),U(r,c,p),m=!0},p(c,[p]){const u={};p&1&&(u.data=c[0]),r.$set(u)},i(c){m||(g(r.$$.fragment,c),m=!0)},o(c){w(r.$$.fragment,c),m=!1},d(c){c&&(b(e),b(t),b(n),b(f),b(_),b(a)),B(r,c)}}}function pe(s,e,l){let{data:t}=e;return s.$$set=n=>{"data"in n&&l(0,t=n.data)},[t]}class we extends X{constructor(e){super(),Y(this,e,pe,de,K,{data:0})}}export{we as component};
